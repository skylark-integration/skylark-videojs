{"version":3,"sources":["video.js"],"names":["define","window","xhr","setup","stylesheet","Component","EventTarget","Events","Player","Plugin","mergeOptions","Fn","TextTrack","AudioTrack","VideoTrack","timeRanges","formatTime","log","Dom","browser","Url","obj","computedStyle","extend","Tech","middleware","defineLazyProperty","middlewareUse","use","TERMINATOR","normalizeId","id","indexOf","slice","videojs","options","ready","player","getPlayer","warn","el","$","isEl","TypeError","ownerDocument","defaultView","body","contains","hooks","forEach","hookFunction","opts","isObject","Array","isArray","error","PlayerComponent","getComponent","hooks_","type","fn","concat","hook","hookOnce","map","original","wrapper","args","removeHook","index","splice","VIDEOJS_NO_DYNAMIC_STYLE","isReal","style","createStyleElement","head","insertBefore","firstChild","setTextContent","autoSetupTimeout","VERSION","prototype","options_","getPlayers","players","tag","nId","playerId","getAllPlayers","Object","keys","k","filter","Boolean","registerComponent","name","comp","isTech","call","getTech","registerTech","defineProperty","value","writeable","enumerable","TOUCH_ENABLED","bind","registerPlugin","deregisterPlugin","plugin","getPlugins","getPlugin","getPluginVersion","addLanguage","code","data","toLowerCase","languages","[object Object]","createLogger","createTimeRange","undefined","createTimeRanges","setFormatTime","resetFormatTime","parseUrl","isCrossOrigin","on","one","off","trigger","apply","arguments","dom","url"],"mappings":"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","file":"../video.js","sourcesContent":["define([\n    \"skylark-langx-globals/window\",\n    'skylark-net-http/xhr',\n    './setup',\n    './utils/stylesheet',\n    './component',\n    './event-target',\n    './utils/events',\n    './player',\n    './plugin',\n    './utils/merge-options',\n    './utils/fn',\n    './tracks/text-track',\n    './tracks/audio-track',\n    './tracks/video-track',\n    './utils/time-ranges',\n    './utils/format-time',\n    './utils/log',\n    './utils/dom',\n    './utils/browser',\n    './utils/url',\n    './utils/obj',\n    './utils/computed-style',\n    './extend',\n    './tech/tech',\n    './tech/middleware',\n    './utils/define-lazy-property'\n], function (\n    window,\n    xhr,\n    setup, \n    stylesheet, \n    Component, \n    EventTarget, \n    Events, \n    Player, \n    Plugin, \n    mergeOptions, \n    Fn, \n    TextTrack, \n    AudioTrack, \n    VideoTrack, \n    timeRanges, \n    formatTime, \n    log, \n    Dom, \n    browser, \n    Url, \n    obj, \n    computedStyle, \n    extend, \n    Tech, \n    middleware, \n    defineLazyProperty\n) {\n    'use strict';\n\n    var middlewareUse = middleware.use,\n        TERMINATOR = middleware.TERMINATOR;\n\n\n    const normalizeId = id => id.indexOf('#') === 0 ? id.slice(1) : id;\n    function videojs(id, options, ready) {\n        let player = videojs.getPlayer(id);\n        if (player) {\n            if (options) {\n                log.warn(`Player \"${ id }\" is already initialised. Options will not be applied.`);\n            }\n            if (ready) {\n                player.ready(ready);\n            }\n            return player;\n        }\n        const el = typeof id === 'string' ? Dom.$('#' + normalizeId(id)) : id;\n        if (!Dom.isEl(el)) {\n            throw new TypeError('The element or ID supplied is not valid. (videojs)');\n        }\n        if (!el.ownerDocument.defaultView || !el.ownerDocument.body.contains(el)) {\n            log.warn('The element supplied is not included in the DOM');\n        }\n        options = options || {};\n        videojs.hooks('beforesetup').forEach(hookFunction => {\n            const opts = hookFunction(el, mergeOptions(options));\n            if (!obj.isObject(opts) || Array.isArray(opts)) {\n                log.error('please return an object in beforesetup hooks');\n                return;\n            }\n            options = mergeOptions(options, opts);\n        });\n        const PlayerComponent = Component.getComponent('Player');\n        player = new PlayerComponent(el, options, ready);\n        videojs.hooks('setup').forEach(hookFunction => hookFunction(player));\n        return player;\n    }\n    videojs.hooks_ = {};\n    videojs.hooks = function (type, fn) {\n        videojs.hooks_[type] = videojs.hooks_[type] || [];\n        if (fn) {\n            videojs.hooks_[type] = videojs.hooks_[type].concat(fn);\n        }\n        return videojs.hooks_[type];\n    };\n    videojs.hook = function (type, fn) {\n        videojs.hooks(type, fn);\n    };\n    videojs.hookOnce = function (type, fn) {\n        videojs.hooks(type, [].concat(fn).map(original => {\n            const wrapper = (...args) => {\n                videojs.removeHook(type, wrapper);\n                return original(...args);\n            };\n            return wrapper;\n        }));\n    };\n    videojs.removeHook = function (type, fn) {\n        const index = videojs.hooks(type).indexOf(fn);\n        if (index <= -1) {\n            return false;\n        }\n        videojs.hooks_[type] = videojs.hooks_[type].slice();\n        videojs.hooks_[type].splice(index, 1);\n        return true;\n    };\n    if (window.VIDEOJS_NO_DYNAMIC_STYLE !== true && Dom.isReal()) {\n        let style = Dom.$('.vjs-styles-defaults');\n        if (!style) {\n            style = stylesheet.createStyleElement('vjs-styles-defaults');\n            const head = Dom.$('head');\n            if (head) {\n                head.insertBefore(style, head.firstChild);\n            }\n            stylesheet.setTextContent(style, `\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    `);\n        }\n    }\n    setup.autoSetupTimeout(1, videojs);\n    videojs.VERSION = \"7.11.5\";\n    videojs.options = Player.prototype.options_;\n    videojs.getPlayers = () => Player.players;\n    videojs.getPlayer = id => {\n        const players = Player.players;\n        let tag;\n        if (typeof id === 'string') {\n            const nId = normalizeId(id);\n            const player = players[nId];\n            if (player) {\n                return player;\n            }\n            tag = Dom.$('#' + nId);\n        } else {\n            tag = id;\n        }\n        if (Dom.isEl(tag)) {\n            const {player, playerId} = tag;\n            if (player || players[playerId]) {\n                return player || players[playerId];\n            }\n        }\n    };\n    videojs.getAllPlayers = () => Object.keys(Player.players).map(k => Player.players[k]).filter(Boolean);\n    videojs.players = Player.players;\n    videojs.getComponent = Component.getComponent;\n    videojs.registerComponent = (name, comp) => {\n        if (Tech.isTech(comp)) {\n            log.warn(`The ${ name } tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`);\n        }\n        Component.registerComponent.call(Component, name, comp);\n    };\n    videojs.getTech = Tech.getTech;\n    videojs.registerTech = Tech.registerTech;\n    videojs.use = middlewareUse;\n    Object.defineProperty(videojs, 'middleware', {\n        value: {},\n        writeable: false,\n        enumerable: true\n    });\n    Object.defineProperty(videojs.middleware, 'TERMINATOR', {\n        value: TERMINATOR,\n        writeable: false,\n        enumerable: true\n    });\n    videojs.browser = browser;\n    videojs.TOUCH_ENABLED = browser.TOUCH_ENABLED;\n    videojs.extend = extend;\n    videojs.mergeOptions = mergeOptions;\n    videojs.bind = Fn.bind;\n    videojs.registerPlugin = Plugin.registerPlugin;\n    videojs.deregisterPlugin = Plugin.deregisterPlugin;\n    videojs.plugin = (name, plugin) => {\n        log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');\n        return Plugin.registerPlugin(name, plugin);\n    };\n    videojs.getPlugins = Plugin.getPlugins;\n    videojs.getPlugin = Plugin.getPlugin;\n    videojs.getPluginVersion = Plugin.getPluginVersion;\n    videojs.addLanguage = function (code, data) {\n        code = ('' + code).toLowerCase();\n        videojs.options.languages = mergeOptions(videojs.options.languages, { [code]: data });\n        return videojs.options.languages[code];\n    };\n    videojs.log = log;\n    videojs.createLogger = log.createLogger;\n    videojs.createTimeRange = videojs.undefined = timeRanges.createTimeRanges;\n    videojs.formatTime = formatTime;\n    videojs.setFormatTime = formatTime.setFormatTime;\n    videojs.resetFormatTime = formatTime.resetFormatTime;\n    videojs.parseUrl = Url.parseUrl;\n    videojs.isCrossOrigin = Url.isCrossOrigin;\n    videojs.EventTarget = EventTarget;\n    videojs.on = Events.on;\n    videojs.one = Events.one;\n    videojs.off = Events.off;\n    videojs.trigger = Events.trigger;\n    videojs.xhr = xhr;\n    videojs.TextTrack = TextTrack;\n    videojs.AudioTrack = AudioTrack;\n    videojs.VideoTrack = VideoTrack;\n    [\n        'isEl',\n        'isTextNode',\n        'createEl',\n        'hasClass',\n        'addClass',\n        'removeClass',\n        'toggleClass',\n        'setAttributes',\n        'getAttributes',\n        'emptyEl',\n        'appendContent',\n        'insertContent'\n    ].forEach(k => {\n        videojs[k] = function () {\n            log.warn(`videojs.${ k }() is deprecated; use videojs.dom.${ k }() instead`);\n            return Dom[k].apply(null, arguments);\n        };\n    });\n    videojs.computedStyle = computedStyle;\n    videojs.dom = Dom;\n    videojs.url = Url;\n    videojs.defineLazyProperty = defineLazyProperty;\n    return videojs;\n});"]}