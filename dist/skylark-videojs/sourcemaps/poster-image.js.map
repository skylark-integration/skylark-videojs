{"version":3,"sources":["poster-image.js"],"names":["define","ClickableComponent","Component","Fn","Dom","promise","browser","PosterImage","[object Object]","player","options","super","this","update","listenTo","unlistenTo","dispose","createEl","className","tabIndex","event","url","poster","setSrc","show","hide","backgroundImage","el_","style","player_","controls","sourceIsEncrypted","usingPlugin","eme","sessions","length","tech","IE_VERSION","IS_EDGE","focus","paused","silencePromise","play","pause","registerComponent"],"mappings":";;;;;;;AAAAA,QACI,wBACA,cACA,aACA,cACA,kBACA,mBACD,SAAUC,EAAoBC,EAAWC,EAAIC,EAAKC,EAASC,GAC1D,mBACMC,UAAoBN,EACtBO,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACdE,KAAKC,SACLD,KAAKE,SAASL,EAAO,eAAeG,KAAKC,QAE7CL,UACII,KAAKG,WAAWH,KAAKH,SAAS,eAAgBG,KAAKC,QACnDF,MAAMK,UAEVR,WAKI,OAJWJ,EAAIa,SAAS,OACpBC,UAAW,aACXC,UAAW,IAInBX,OAAOY,GACH,MAAMC,EAAMT,KAAKH,SAASa,SAC1BV,KAAKW,OAAOF,GACRA,EACAT,KAAKY,OAELZ,KAAKa,OAGbjB,OAAOa,GACH,IAAIK,EAAkB,GAClBL,IACAK,UAA2BL,OAE/BT,KAAKe,IAAIC,MAAMF,gBAAkBA,EAErClB,YAAYY,GACR,IAAKR,KAAKiB,QAAQC,WACd,OAEJ,MAAMC,EAAoBnB,KAAKiB,QAAQG,YAAY,QAAUpB,KAAKiB,QAAQI,IAAIC,UAAYtB,KAAKiB,QAAQI,IAAIC,SAASC,OAAS,GACzHvB,KAAKiB,QAAQO,MAAK,KAAY9B,EAAQ+B,YAAc/B,EAAQgC,UAAYP,GACxEnB,KAAKiB,QAAQO,MAAK,GAAMG,QAExB3B,KAAKiB,QAAQW,SACbnC,EAAQoC,eAAe7B,KAAKiB,QAAQa,QAEpC9B,KAAKiB,QAAQc,SAKzB,OADAzC,EAAU0C,kBAAkB,cAAerC,GACpCA","file":"../poster-image.js","sourcesContent":["define([\n    './clickable-component',\n    './component',\n    './utils/fn',\n    './utils/dom',\n    './utils/promise',\n    './utils/browser'\n], function (ClickableComponent, Component, Fn, Dom, promise, browser) {\n    'use strict';\n    class PosterImage extends ClickableComponent {\n        constructor(player, options) {\n            super(player, options);\n            this.update();\n            this.listenTo(player,'posterchange',this.update);\n        }\n        dispose() {\n            this.unlistenTo(this.player(),'posterchange', this.update);\n            super.dispose();\n        }\n        createEl() {\n            const el = Dom.createEl('div', {\n                className: 'vjs-poster',\n                tabIndex: -1\n            });\n            return el;\n        }\n        update(event) {\n            const url = this.player().poster();\n            this.setSrc(url);\n            if (url) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        }\n        setSrc(url) {\n            let backgroundImage = '';\n            if (url) {\n                backgroundImage = `url(\"${ url }\")`;\n            }\n            this.el_.style.backgroundImage = backgroundImage;\n        }\n        handleClick(event) {\n            if (!this.player_.controls()) {\n                return;\n            }\n            const sourceIsEncrypted = this.player_.usingPlugin('eme') && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;\n            if (this.player_.tech(true) && !((browser.IE_VERSION || browser.IS_EDGE) && sourceIsEncrypted)) {\n                this.player_.tech(true).focus();\n            }\n            if (this.player_.paused()) {\n                promise.silencePromise(this.player_.play());\n            } else {\n                this.player_.pause();\n            }\n        }\n    }\n    Component.registerComponent('PosterImage', PosterImage);\n    return PosterImage;\n});"]}