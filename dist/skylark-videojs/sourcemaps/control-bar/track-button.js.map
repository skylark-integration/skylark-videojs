{"version":3,"sources":["control-bar/track-button.js"],"names":["define","MenuButton","Component","Fn","TrackButton","[object Object]","player","options","tracks","super","this","items","length","hide","updateHandler","bind","update","addEventListener","player_","on","removeEventListener","registerComponent"],"mappings":";;;;;;;AAAAA,QACI,sBACA,eACA,eACD,SAAUC,EAAYC,EAAWC,GAChC,mBACMC,UAAoBH,EACtBI,YAAYC,EAAQC,GAChB,MAAMC,EAASD,EAAQC,OAKvB,GAJAC,MAAMH,EAAQC,GACVG,KAAKC,MAAMC,QAAU,GACrBF,KAAKG,QAEJL,EACD,OAEJ,MAAMM,EAAgBX,EAAGY,KAAKL,KAAMA,KAAKM,QACzCR,EAAOS,iBAAiB,cAAeH,GACvCN,EAAOS,iBAAiB,WAAYH,GACpCN,EAAOS,iBAAiB,cAAeH,GACvCJ,KAAKQ,QAAQC,GAAG,QAASL,GACzBJ,KAAKQ,QAAQC,GAAG,UAAW,WACvBX,EAAOY,oBAAoB,cAAeN,GAC1CN,EAAOY,oBAAoB,WAAYN,GACvCN,EAAOY,oBAAoB,cAAeN,MAKtD,OADAZ,EAAUmB,kBAAkB,cAAejB,GACpCA","file":"../../control-bar/track-button.js","sourcesContent":["define([\n    '../menu/menu-button',\n    '../component',\n    '../utils/fn'\n], function (MenuButton, Component, Fn) {\n    'use strict';\n    class TrackButton extends MenuButton {\n        constructor(player, options) {\n            const tracks = options.tracks;\n            super(player, options);\n            if (this.items.length <= 1) {\n                this.hide();\n            }\n            if (!tracks) {\n                return;\n            }\n            const updateHandler = Fn.bind(this, this.update);\n            tracks.addEventListener('removetrack', updateHandler);\n            tracks.addEventListener('addtrack', updateHandler);\n            tracks.addEventListener('labelchange', updateHandler);\n            this.player_.on('ready', updateHandler);\n            this.player_.on('dispose', function () {\n                tracks.removeEventListener('removetrack', updateHandler);\n                tracks.removeEventListener('addtrack', updateHandler);\n                tracks.removeEventListener('labelchange', updateHandler);\n            });\n        }\n    }\n    Component.registerComponent('TrackButton', TrackButton);\n    return TrackButton;\n});"]}