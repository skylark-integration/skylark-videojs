{"version":3,"sources":["utils/dom-data.js"],"names":["define","log","Guid","FakeWeakMap","window","WeakMap","[object Object]","this","vdata","Math","floor","performance","now","Date","data","key","value","access","newGUID"],"mappings":";;;;;;;AAAAA,QACI,QACA,UACD,SAAUC,EAAKC,GACd,aACA,IAAIC,EAoCJ,OAnCKC,OAAOC,UACRF,QACIG,cACIC,KAAKC,MAAQ,QAAUC,KAAKC,MAAMN,OAAOO,aAAeP,OAAOO,YAAYC,OAASC,KAAKD,OACzFL,KAAKO,QAETR,IAAIS,EAAKC,GACL,MAAMC,EAASF,EAAIR,KAAKC,QAAUN,EAAKgB,UAKvC,OAJKH,EAAIR,KAAKC,SACVO,EAAIR,KAAKC,OAASS,GAEtBV,KAAKO,KAAKG,GAAUD,EACbT,KAEXD,IAAIS,GACA,MAAME,EAASF,EAAIR,KAAKC,OACxB,GAAIS,EACA,OAAOV,KAAKO,KAAKG,GAErBhB,EAAI,mCAAoCc,GAG5CT,IAAIS,GAEA,OADeA,EAAIR,KAAKC,SACPD,KAAKO,KAE1BR,OAAOS,GACH,MAAME,EAASF,EAAIR,KAAKC,OACpBS,WACOV,KAAKO,KAAKG,UACVF,EAAIR,KAAKC,WAKzBJ,OAAOC,QAAU,IAAIA,QAAY,IAAIF","file":"../../utils/dom-data.js","sourcesContent":["define([\n    './log',\n    './guid'\n], function (log, Guid) {\n    'use strict';\n    let FakeWeakMap;\n    if (!window.WeakMap) {\n        FakeWeakMap = class {\n            constructor() {\n                this.vdata = 'vdata' + Math.floor(window.performance && window.performance.now() || Date.now());\n                this.data = {};\n            }\n            set(key, value) {\n                const access = key[this.vdata] || Guid.newGUID();\n                if (!key[this.vdata]) {\n                    key[this.vdata] = access;\n                }\n                this.data[access] = value;\n                return this;\n            }\n            get(key) {\n                const access = key[this.vdata];\n                if (access) {\n                    return this.data[access];\n                }\n                log('We have no data for this element', key);\n                return undefined;\n            }\n            has(key) {\n                const access = key[this.vdata];\n                return access in this.data;\n            }\n            delete(key) {\n                const access = key[this.vdata];\n                if (access) {\n                    delete this.data[access];\n                    delete key[this.vdata];\n                }\n            }\n        };\n    }\n    return window.WeakMap ? new WeakMap() : new FakeWeakMap();\n});"]}