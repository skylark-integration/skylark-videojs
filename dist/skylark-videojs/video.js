/**
 * skylark-videojs - A version of video.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx-globals/window","skylark-net-http/xhr","./setup","./utils/stylesheet","./component","./event-target","./utils/events","./player","./plugin","./utils/merge-options","./utils/fn","./tracks/text-track","./tracks/audio-track","./tracks/video-track","./utils/time-ranges","./utils/format-time","./utils/log","./utils/dom","./utils/browser","./utils/url","./utils/obj","./utils/computed-style","./tech/tech","./tech/middleware","./utils/define-lazy-property"],function(e,t,r,s,o,n,i,a,l,u,g,c,d,p,h,m,f,y,k,T,w,b,v,P,E){"use strict";var C=P.use,O=P.TERMINATOR;const j=e=>0===e.indexOf("#")?e.slice(1):e;function _(e,t,r){let s=_.getPlayer(e);if(s)return t&&f.warn(`Player "${e}" is already initialised. Options will not be applied.`),r&&s.ready(r),s;const n="string"==typeof e?y.$("#"+j(e)):e;if(!y.isEl(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||f.warn("The element supplied is not included in the DOM"),t=t||{},_.hooks("beforesetup").forEach(e=>{const r=e(n,u(t));w.isObject(r)&&!Array.isArray(r)?t=u(t,r):f.error("please return an object in beforesetup hooks")});const i=o.getComponent("Player");return s=new i(n,t,r),_.hooks("setup").forEach(e=>e(s)),s}if(_.hooks_={},_.hooks=function(e,t){return _.hooks_[e]=_.hooks_[e]||[],t&&(_.hooks_[e]=_.hooks_[e].concat(t)),_.hooks_[e]},_.hook=function(e,t){_.hooks(e,t)},_.hookOnce=function(e,t){_.hooks(e,[].concat(t).map(t=>{const r=(...s)=>(_.removeHook(e,r),t(...s));return r}))},_.removeHook=function(e,t){const r=_.hooks(e).indexOf(t);return!(r<=-1)&&(_.hooks_[e]=_.hooks_[e].slice(),_.hooks_[e].splice(r,1),!0)},!0!==e.VIDEOJS_NO_DYNAMIC_STYLE&&y.isReal()){let e=y.$(".vjs-styles-defaults");if(!e){e=s.createStyleElement("vjs-styles-defaults");const t=y.$("head");t&&t.insertBefore(e,t.firstChild),s.setTextContent(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return r.autoSetupTimeout(1,_),_.VERSION="7.11.5",_.options=a.prototype.options_,_.getPlayers=(()=>a.players),_.getPlayer=(e=>{const t=a.players;let r;if("string"==typeof e){const s=j(e),o=t[s];if(o)return o;r=y.$("#"+s)}else r=e;if(y.isEl(r)){const{player:e,playerId:s}=r;if(e||t[s])return e||t[s]}}),_.getAllPlayers=(()=>Object.keys(a.players).map(e=>a.players[e]).filter(Boolean)),_.players=a.players,_.getComponent=o.getComponent,_.registerComponent=((e,t)=>{v.isTech(t)&&f.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),o.registerComponent.call(o,e,t)}),_.getTech=v.getTech,_.registerTech=v.registerTech,_.use=C,Object.defineProperty(_,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(_.middleware,"TERMINATOR",{value:O,writeable:!1,enumerable:!0}),_.browser=k,_.TOUCH_ENABLED=k.TOUCH_ENABLED,_.mergeOptions=u,_.bind=g.bind,_.registerPlugin=l.registerPlugin,_.deregisterPlugin=l.deregisterPlugin,_.plugin=((e,t)=>(f.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),l.registerPlugin(e,t))),_.getPlugins=l.getPlugins,_.getPlugin=l.getPlugin,_.getPluginVersion=l.getPluginVersion,_.addLanguage=function(e,t){return e=(""+e).toLowerCase(),_.options.languages=u(_.options.languages,{[e]:t}),_.options.languages[e]},_.log=f,_.createLogger=f.createLogger,_.createTimeRange=_.undefined=h.createTimeRanges,_.formatTime=m,_.setFormatTime=m.setFormatTime,_.resetFormatTime=m.resetFormatTime,_.parseUrl=T.parseUrl,_.isCrossOrigin=T.isCrossOrigin,_.EventTarget=n,_.on=i.on,_.one=i.one,_.off=i.off,_.trigger=i.trigger,_.xhr=t,_.TextTrack=c,_.AudioTrack=d,_.VideoTrack=p,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{_[e]=function(){return f.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),y[e].apply(null,arguments)}}),_.computedStyle=b,_.dom=y,_.url=T,_.defineLazyProperty=E,_});
//# sourceMappingURL=sourcemaps/video.js.map
