{"version":3,"sources":["poster-image.js"],"names":["define","ClickableComponent","Component","Fn","Dom","promise","browser","PosterImage","[object Object]","player","options","super","this","update","on","bind","off","dispose","createEl","className","tabIndex","event","url","poster","setSrc","show","hide","backgroundImage","el_","style","player_","controls","sourceIsEncrypted","usingPlugin","eme","sessions","length","tech","IE_VERSION","IS_EDGE","focus","paused","silencePromise","play","pause","registerComponent"],"mappings":";;;;;;;AAAAA,QACI,wBACA,cACA,aACA,cACA,kBACA,mBACD,SAAUC,EAAoBC,EAAWC,EAAIC,EAAKC,EAASC,GAC1D,mBACMC,UAAoBN,EACtBO,YAAYC,EAAQC,GAChBC,MAAMF,EAAQC,GACdE,KAAKC,SACLJ,EAAOK,GAAG,eAAgBX,EAAGY,KAAKH,KAAMA,KAAKC,SAEjDL,UACII,KAAKH,SAASO,IAAI,eAAgBJ,KAAKC,QACvCF,MAAMM,UAEVT,WAKI,OAJWJ,EAAIc,SAAS,OACpBC,UAAW,aACXC,UAAW,IAInBZ,OAAOa,GACH,MAAMC,EAAMV,KAAKH,SAASc,SAC1BX,KAAKY,OAAOF,GACRA,EACAV,KAAKa,OAELb,KAAKc,OAGblB,OAAOc,GACH,IAAIK,EAAkB,GAClBL,IACAK,UAA2BL,OAE/BV,KAAKgB,IAAIC,MAAMF,gBAAkBA,EAErCnB,YAAYa,GACR,IAAKT,KAAKkB,QAAQC,WACd,OAEJ,MAAMC,EAAoBpB,KAAKkB,QAAQG,YAAY,QAAUrB,KAAKkB,QAAQI,IAAIC,UAAYvB,KAAKkB,QAAQI,IAAIC,SAASC,OAAS,GACzHxB,KAAKkB,QAAQO,MAAK,KAAY/B,EAAQgC,YAAchC,EAAQiC,UAAYP,GACxEpB,KAAKkB,QAAQO,MAAK,GAAMG,QAExB5B,KAAKkB,QAAQW,SACbpC,EAAQqC,eAAe9B,KAAKkB,QAAQa,QAEpC/B,KAAKkB,QAAQc,SAKzB,OADA1C,EAAU2C,kBAAkB,cAAetC,GACpCA","file":"../poster-image.js","sourcesContent":["define([\n    './clickable-component',\n    './component',\n    './utils/fn',\n    './utils/dom',\n    './utils/promise',\n    './utils/browser'\n], function (ClickableComponent, Component, Fn, Dom, promise, browser) {\n    'use strict';\n    class PosterImage extends ClickableComponent {\n        constructor(player, options) {\n            super(player, options);\n            this.update();\n            player.on('posterchange', Fn.bind(this, this.update));\n        }\n        dispose() {\n            this.player().off('posterchange', this.update);\n            super.dispose();\n        }\n        createEl() {\n            const el = Dom.createEl('div', {\n                className: 'vjs-poster',\n                tabIndex: -1\n            });\n            return el;\n        }\n        update(event) {\n            const url = this.player().poster();\n            this.setSrc(url);\n            if (url) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        }\n        setSrc(url) {\n            let backgroundImage = '';\n            if (url) {\n                backgroundImage = `url(\"${ url }\")`;\n            }\n            this.el_.style.backgroundImage = backgroundImage;\n        }\n        handleClick(event) {\n            if (!this.player_.controls()) {\n                return;\n            }\n            const sourceIsEncrypted = this.player_.usingPlugin('eme') && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;\n            if (this.player_.tech(true) && !((browser.IE_VERSION || browser.IS_EDGE) && sourceIsEncrypted)) {\n                this.player_.tech(true).focus();\n            }\n            if (this.player_.paused()) {\n                promise.silencePromise(this.player_.play());\n            } else {\n                this.player_.pause();\n            }\n        }\n    }\n    Component.registerComponent('PosterImage', PosterImage);\n    return PosterImage;\n});"]}