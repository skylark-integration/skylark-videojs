{"version":3,"sources":["utils/fn.js"],"names":["define","GUID","UPDATE_REFRESH_INTERVAL","bind","context","fn","uid","guid","newGUID","bound","throttle","wait","last","window","performance","now","args","debounce","func","immediate","timeout","debounced","self","this","arguments","later","apply","clearTimeout","setTimeout","cancel"],"mappings":";;;;;;;AAAAA,QACI,UACD,SAAUC,GACT,aA8CA,OACIC,wBA9C4B,GA+C5BC,KA9CS,SAAUC,EAASC,EAAIC,GAC3BD,EAAGE,OACJF,EAAGE,KAAON,EAAKO,WAEnB,MAAMC,EAAQJ,EAAGF,KAAKC,GAEtB,OADAK,EAAMF,KAAOD,EAAMA,EAAM,IAAMD,EAAGE,KAAOF,EAAGE,KACrCE,GAyCPC,SAvCa,SAAUL,EAAIM,GAC3B,IAAIC,EAAOC,OAAOC,YAAYC,MAQ9B,OAPkB,YAAaC,GAC3B,MAAMD,EAAMF,OAAOC,YAAYC,MAC3BA,EAAMH,GAAQD,IACdN,KAAMW,GACNJ,EAAOG,KAkCfE,SA7Ba,SAAUC,EAAMP,EAAMQ,EAAWf,EAAUS,QACxD,IAAIO,EACJ,MAIMC,EAAY,WACd,MAAMC,EAAOC,KACPP,EAAOQ,UACb,IAAIC,EAAQ,WACRL,EAAU,KACVK,EAAQ,KACHN,GACDD,EAAKQ,MAAMJ,EAAMN,KAGpBI,GAAWD,GACZD,EAAKQ,MAAMJ,EAAMN,GAErBZ,EAAQuB,aAAaP,GACrBA,EAAUhB,EAAQwB,WAAWH,EAAOd,IAGxC,OADAU,EAAUQ,OApBK,MACXzB,EAAQuB,aAAaP,GACrBA,EAAU,OAmBPC","file":"../../utils/fn.js","sourcesContent":["define([\n    './guid'\n], function (GUID) {\n    'use strict';\n    const UPDATE_REFRESH_INTERVAL = 30;\n    const bind = function (context, fn, uid) {\n        if (!fn.guid) {\n            fn.guid = GUID.newGUID();\n        }\n        const bound = fn.bind(context);\n        bound.guid = uid ? uid + '_' + fn.guid : fn.guid;\n        return bound;\n    };\n    const throttle = function (fn, wait) {\n        let last = window.performance.now();\n        const throttled = function (...args) {\n            const now = window.performance.now();\n            if (now - last >= wait) {\n                fn(...args);\n                last = now;\n            }\n        };\n        return throttled;\n    };\n    const debounce = function (func, wait, immediate, context = window) {\n        let timeout;\n        const cancel = () => {\n            context.clearTimeout(timeout);\n            timeout = null;\n        };\n        const debounced = function () {\n            const self = this;\n            const args = arguments;\n            let later = function () {\n                timeout = null;\n                later = null;\n                if (!immediate) {\n                    func.apply(self, args);\n                }\n            };\n            if (!timeout && immediate) {\n                func.apply(self, args);\n            }\n            context.clearTimeout(timeout);\n            timeout = context.setTimeout(later, wait);\n        };\n        debounced.cancel = cancel;\n        return debounced;\n    };\n    return {\n        UPDATE_REFRESH_INTERVAL: UPDATE_REFRESH_INTERVAL,\n        bind: bind,\n        throttle: throttle,\n        debounce: debounce\n    };\n});"]}