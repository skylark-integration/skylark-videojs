{"version":3,"sources":["player.js"],"names":["define","document","Component","evented","Events","Dom","Fn","Guid","browser","log","stringCases","timeRages","buffer","stylesheet","FullscreenApi","MediaError","safeParseTuple","obj","mergeOptions","promise","textTrackConverter","ModalDialog","Tech","middleware","TRACK_TYPES","filterSource","mimetypes","keycode","TECH_EVENTS_RETRIGGER","TECH_EVENTS_QUEUE","canplay","canplaythrough","playing","seeked","BREAKPOINT_ORDER","BREAKPOINT_CLASSES","forEach","k","v","charAt","substring","DEFAULT_BREAKPOINTS","tiny","xsmall","small","medium","large","xlarge","huge","Infinity","Player","[object Object]","tag","options","ready","id","newGUID","assign","getTagSettings","initChildren","createEl","reportTouchActivity","language","closest","getAttribute","element","nodeType","getAttributes","hasOwnProperty","parentNode","super","this","boundDocumentFullscreenChange_","e","documentFullscreenChange_","boundFullWindowOnEscKey_","fullWindowOnEscKey","isFullscreen_","createLogger","id_","fsApi_","isPosterFromTech_","queuedCallbacks_","isReady_","hasStarted_","userActive_","debugEnabled_","options_","techOrder","length","Error","tagAttributes","languages","languagesToLower","Object","getOwnPropertyNames","name","toLowerCase","languages_","prototype","resetCache_","poster_","poster","controls_","controls","removeAttribute","changingSrc_","playCallbacks_","playTerminatedQueue_","hasAttribute","autoplay","plugins","keys","scrubbing_","el_","eventBusKey","requestFullscreen","on","fullscreenchange","fluid_","updateStyleEl_","playerOptionsCopy","debug","playerOptions","middleware_","isAudio","nodeName","addClass","setAttribute","localize","flexNotSupported_","TOUCH_ENABLED","IS_IOS","players","userActive","reportUserActivity","one","listenForUserActivity_","handleStageClick_","handleKeyDown","handleLanguagechange","breakpoints","responsive","trigger","off","styleEl_","removeChild","player","tech_","dispose","playerElIngest_","clearCacheForPlayer","names","list","getterName","el","playerElIngest","divEmbed","tagName","attrs","createElement","children","appendChild","firstChild","hasClass","tabindex","IE_VERSION","IS_CHROME","IS_WINDOWS","role","width","height","attr","playerId","className","window","VIDEOJS_NO_DYNAMIC_STYLE","createStyleElement","defaultsStyleEl","$","head","insertBefore","nextSibling","fill_","fill","fluid","aspectRatio","crossOrigin","crossorigin","links","getElementsByTagName","i","linkEl","item","initNetworkState_","networkState","prependTo","children_","unshift","language_","value","techGet_","techCall_","warn","dimension","privDimension","undefined","parsedVal","parseFloat","isNaN","error","bool","isEvented","addEventedCallback","removeClass","ratio","aspectRatio_","test","width_","height_","techEl","idClass","ratioParts","videoWidth","videoHeight","split","ratioMultiplier","setTextContent","techName","source","unloadTech_","titleTechName","toTitleCase","camelTechName","slice","getTech","disposeMediaElement","techName_","techOptions","nativeControlsForTouch","techId","playsinline","preload","loop","disablePictureInPicture","muted","vtt.js","canOverridePoster","techCanOverridePoster","enableSourceset","Promise","props","privateName","src","cache_","currentTime","startTime","TechClass","bind","handleTechReady_","jsonToTextTracks","textTracksJson_","event","eventObj","playbackRate","seeking","push","callback","handleTechLoadStart_","handleTechSourceset_","handleTechWaiting_","handleTechEnded_","handleTechSeeking_","handleTechPlay_","handleTechFirstPlay_","handleTechPause_","handleTechDurationChange_","handleTechFullscreenChange_","handleTechFullscreenError_","handleTechEnterPictureInPicture_","handleTechLeavePictureInPicture_","handleTechError_","handleTechPosterChange_","handleTechTextData_","handleTechRateChange_","usingNativeControls","addTechControlsListeners_","textTracksToJson","safety","removeTechControlsListeners_","handleTechClick_","handleTechDoubleClick_","handleTechTouchStart_","handleTechTouchMove_","handleTechTouchEnd_","handleTechTap_","triggerReady","volume","paused","hasStarted","manualAutoplay_","type","previouslyMuted","restoreMuted","mutedPromise","play","isPromise","catch","then","srcObj","sources","findMimetype","matchingSources","filter","s","sourceElSources","sourceEls","$$","matchingSourceEls","sourceObj","updateSourceCaches","updateSourceCaches_","playerSrc","currentSource","eventSrc","lastSource_","tech","any","techSrc","techGet","request","lastPlaybackRate","queued","timeWhenWaiting","timeUpdateListener","starttime","pause","duration","isSingleLeftClick","silencePromise","Array","some","call","contains","target","userActions","doubleClick","isFullscreen","exitFullscreen","userWasActive","cancelable","preventDefault","targetPlayer","isFs","fullscreenElement","matches","fullscreen","msMatchesSelector","data","nativeIOSFullscreen","toggleClass","err","isInPictureInPicture","arguments","initTime","inactivityTimeout","NaN","lastVolume","defaultPlaybackRate","media","method","arg","allowedSetters","set","allowedMediators","mediate","allowedGetters","get","PromiseClass","resolve","play_","isSrcReady","Boolean","currentSrc","waitToPlay_","IS_ANY_SAFARI","load","val","runPlayTerminatedQueue_","runPlayCallbacks_","queue","q","callbacks","cb","createTimeRange","isScrubbing","seconds","applyInitTime_","Math","floor","buffered","bufferedPercent","end","percentAsDecimal","vol","max","min","lastVolume_","defaultMuted","isFS","oldValue","prefixed","toggleFullscreenClass_","fullscreenOptions","self","reject","offHandler","errorHandler","changeHandler","requestFullscreenHelper_","fsOptions","supportsFullScreen","enterFullWindow","exitFullscreenHelper_","exitFullWindow","isFullWindow","docOrigOverflow","documentElement","style","overflow","body","isEventKey","isPiP","isInPictureInPicture_","togglePictureInPictureClass_","exitPictureInPicture","hotkeys","isContentEditable","indexOf","excludeElement","ownerDocument","activeElement","handleHotkeys","fullscreenKey","keydownEvent","muteKey","playPauseKey","stopPropagation","FSToggle","getComponent","fullscreenEnabled","handleClick","can","j","isSupported","canPlayType","techs","map","findFirstPassingTechSourcePair","outerArray","innerArray","tester","found","outerChoice","innerChoice","foundSourceAndTech","finder","canPlaySource","sourceOrder","fn","a","b","flip","setSource","middlewareSource","mws","src_","setTimeout","code","message","notSupportedMessage","setTech","sourceTech","selectSource","titleCaseEquals","constructor","loadTech_","doReset_","playPromise","clearTracks","resetControlBarUI_","resetProgressBar_","resetPlaybackRate_","resetVolumeBar_","durationDisplay","remainingTimeDisplay","controlBar","updateContent","techAutoplay","newPoster","usingNativeControls_","error_","suppressNotSupportedError","triggerSuppressedError","errorDisplay","close","errorTypes","userActivity_","mouseInProgress","lastMoveX","lastMoveY","handleActivity","handleMouseUpAndMouseLeave","clearInterval","setInterval","screenX","screenY","getChild","IS_ANDROID","clearTimeout","timeout","rate","featuresPlaybackRate","isAudio_","kind","label","addTextTrack","manualCleanup","addRemoteTextTrack","track","removeRemoteTextTrack","String","tracks","content","modal","addChild","open","currentBreakpoint","currentWidth","candidateBreakpoint","breakpoints_","breakpoint_","currentBreakpointClass","updateCurrentBreakpoint_","responsive_","removeCurrentBreakpoint_","reset","artwork","textTracks","getMimetype","isArray","tt","currentSources","remoteTextTracks","baseOptions","tagOptions","dataSetup","hasChildNodes","childNodes","child","childName","elem","enabled","previousLogLevel_","level","ListClass","navigator","defaultTechOrder_","html5","playbackRates","liveui","userLanguage","navigationUI","registerComponent"],"mappings":";;;;;;;AAAAA,QACI,iCACA,cACA,mBACA,iBACA,cACA,aACA,eACA,kBACA,cACA,uBACA,sBACA,iBACA,qBACA,mBACA,gBACA,yBACA,cACA,wBACA,kBACA,qCACA,iBACA,cACA,oBACA,uBACA,wBACA,oBACA,kBACA,gBACA,iBACA,8BACA,oBACA,oBACA,iBACA,4BACA,kBACA,+BACA,mBACA,iBACA,gBACD,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aACA,MAAMC,GACF,WACA,QACA,UACA,UACA,UACA,iBACA,aACA,aACA,SACA,eACA,mBAEEC,GACFC,QAAS,UACTC,eAAgB,iBAChBC,QAAS,UACTC,OAAQ,UAENC,GACF,OACA,SACA,QACA,SACA,QACA,SACA,QAEEC,KACND,EAAiBE,QAAQC,IACrB,MAAMC,EAAoB,MAAhBD,EAAEE,OAAO,QAAmBF,EAAEG,UAAU,KAAQH,EAC1DF,EAAmBE,iBAAoBC,MAE3C,MAAMG,GACFC,KAAM,IACNC,OAAQ,IACRC,MAAO,IACPC,OAAQ,IACRC,MAAO,KACPC,OAAQ,KACRC,KAAMC,EAAAA,SAEJC,UAAehD,EACjBiD,YAAYC,EAAKC,EAASC,GAOtB,GANAF,EAAIG,GAAKH,EAAIG,IAAMF,EAAQE,iBAAoBhD,EAAKiD,aACpDH,EAAUpC,EAAIwC,OAAOP,EAAOQ,eAAeN,GAAMC,IACzCM,cAAe,EACvBN,EAAQO,UAAW,EACnBP,EAAQlD,SAAU,EAClBkD,EAAQQ,qBAAsB,GACzBR,EAAQS,SACT,GAA2B,mBAAhBV,EAAIW,QAAwB,CACnC,MAAMA,EAAUX,EAAIW,QAAQ,UACxBA,GAAWA,EAAQC,eACnBX,EAAQS,SAAWC,EAAQC,aAAa,aAEzC,CACH,IAAIC,EAAUb,EACd,KAAOa,GAAgC,IAArBA,EAAQC,UAAgB,CACtC,GAAI7D,EAAI8D,cAAcF,GAAS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","file":"../player.js","sourcesContent":["define([\n    'skylark-langx-globals/document',\n    './component',\n    './mixins/evented',\n    './utils/events',\n    './utils/dom',\n    './utils/fn',\n    './utils/guid',\n    './utils/browser',\n    './utils/log',\n    './utils/string-cases',\n    './utils/time-ranges',\n    './utils/buffer',\n    './utils/stylesheet',\n    './fullscreen-api',\n    './media-error',\n    './utils/safeParseTuple',\n    './utils/obj',\n    './utils/merge-options',\n    './utils/promise',\n    './tracks/text-track-list-converter',\n    './modal-dialog',\n    './tech/tech',\n    './tech/middleware',\n    './tracks/track-types',\n    './utils/filter-source',\n    './utils/mimetypes',\n    './utils/keycode',\n    './tech/loader',\n    './poster-image',\n    './tracks/text-track-display',\n    './loading-spinner',\n    './big-play-button',\n    './close-button',\n    './control-bar/control-bar',\n    './error-display',\n    './tracks/text-track-settings',\n    './resize-manager',\n    './live-tracker',\n    './tech/html5'\n], function (\n    document,\n    Component,\n    evented, \n    Events, \n    Dom, \n    Fn, \n    Guid, \n    browser, \n    log, \n    stringCases, \n    timeRages, \n    buffer, \n    stylesheet, \n    FullscreenApi, \n    MediaError, \n    safeParseTuple, \n    obj, \n    mergeOptions, \n    promise, \n    textTrackConverter, \n    ModalDialog, \n    Tech, \n    middleware, \n    TRACK_TYPES, \n    filterSource, \n    mimetypes, \n    keycode\n) {\n    'use strict';\n    const TECH_EVENTS_RETRIGGER = [\n        'progress',\n        'abort',\n        'suspend',\n        'emptied',\n        'stalled',\n        'loadedmetadata',\n        'loadeddata',\n        'timeupdate',\n        'resize',\n        'volumechange',\n        'texttrackchange'\n    ];\n    const TECH_EVENTS_QUEUE = {\n        canplay: 'CanPlay',\n        canplaythrough: 'CanPlayThrough',\n        playing: 'Playing',\n        seeked: 'Seeked'\n    };\n    const BREAKPOINT_ORDER = [\n        'tiny',\n        'xsmall',\n        'small',\n        'medium',\n        'large',\n        'xlarge',\n        'huge'\n    ];\n    const BREAKPOINT_CLASSES = {};\n    BREAKPOINT_ORDER.forEach(k => {\n        const v = k.charAt(0) === 'x' ? `x-${ k.substring(1) }` : k;\n        BREAKPOINT_CLASSES[k] = `vjs-layout-${ v }`;\n    });\n    const DEFAULT_BREAKPOINTS = {\n        tiny: 210,\n        xsmall: 320,\n        small: 425,\n        medium: 768,\n        large: 1440,\n        xlarge: 2560,\n        huge: Infinity\n    };\n    class Player extends Component {\n        constructor(tag, options, ready) {\n            tag.id = tag.id || options.id || `vjs_video_${ Guid.newGUID() }`;\n            options = obj.assign(Player.getTagSettings(tag), options);\n            options.initChildren = false;\n            options.createEl = false;\n            options.evented = false;\n            options.reportTouchActivity = false;\n            if (!options.language) {\n                if (typeof tag.closest === 'function') {\n                    const closest = tag.closest('[lang]');\n                    if (closest && closest.getAttribute) {\n                        options.language = closest.getAttribute('lang');\n                    }\n                } else {\n                    let element = tag;\n                    while (element && element.nodeType === 1) {\n                        if (Dom.getAttributes(element).hasOwnProperty('lang')) {\n                            options.language = element.getAttribute('lang');\n                            break;\n                        }\n                        element = element.parentNode;\n                    }\n                }\n            }\n            super(null, options, ready);\n            this.boundDocumentFullscreenChange_ = e => this.documentFullscreenChange_(e);\n            this.boundFullWindowOnEscKey_ = e => this.fullWindowOnEscKey(e);\n            this.isFullscreen_ = false;\n            this.log = log.createLogger(this.id_);\n            this.fsApi_ = FullscreenApi;\n            this.isPosterFromTech_ = false;\n            this.queuedCallbacks_ = [];\n            this.isReady_ = false;\n            this.hasStarted_ = false;\n            this.userActive_ = false;\n            this.debugEnabled_ = false;\n            if (!this.options_ || !this.options_.techOrder || !this.options_.techOrder.length) {\n                throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n            }\n            this.tag = tag;\n            this.tagAttributes = tag && Dom.getAttributes(tag);\n            this.language(this.options_.language);\n            if (options.languages) {\n                const languagesToLower = {};\n                Object.getOwnPropertyNames(options.languages).forEach(function (name) {\n                    languagesToLower[name.toLowerCase()] = options.languages[name];\n                });\n                this.languages_ = languagesToLower;\n            } else {\n                this.languages_ = Player.prototype.options_.languages;\n            }\n            this.resetCache_();\n            this.poster_ = options.poster || '';\n            this.controls_ = !!options.controls;\n            tag.controls = false;\n            tag.removeAttribute('controls');\n            this.changingSrc_ = false;\n            this.playCallbacks_ = [];\n            this.playTerminatedQueue_ = [];\n            if (tag.hasAttribute('autoplay')) {\n                this.autoplay(true);\n            } else {\n                this.autoplay(this.options_.autoplay);\n            }\n            if (options.plugins) {\n                Object.keys(options.plugins).forEach(name => {\n                    if (typeof this[name] !== 'function') {\n                        throw new Error(`plugin \"${ name }\" does not exist`);\n                    }\n                });\n            }\n            this.scrubbing_ = false;\n            this.el_ = this.createEl();\n            evented(this, { eventBusKey: 'el_' });\n            if (this.fsApi_.requestFullscreen) {\n                Events.on(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n                this.on(this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n            }\n            if (this.fluid_) {\n                this.on([\n                    'playerreset',\n                    'resize'\n                ], this.updateStyleEl_);\n            }\n            const playerOptionsCopy = mergeOptions(this.options_);\n            if (options.plugins) {\n                Object.keys(options.plugins).forEach(name => {\n                    this[name](options.plugins[name]);\n                });\n            }\n            if (options.debug) {\n                this.debug(true);\n            }\n            this.options_.playerOptions = playerOptionsCopy;\n            this.middleware_ = [];\n            this.initChildren();\n            this.isAudio(tag.nodeName.toLowerCase() === 'audio');\n            if (this.controls()) {\n                this.addClass('vjs-controls-enabled');\n            } else {\n                this.addClass('vjs-controls-disabled');\n            }\n            this.el_.setAttribute('role', 'region');\n            if (this.isAudio()) {\n                this.el_.setAttribute('aria-label', this.localize('Audio Player'));\n            } else {\n                this.el_.setAttribute('aria-label', this.localize('Video Player'));\n            }\n            if (this.isAudio()) {\n                this.addClass('vjs-audio');\n            }\n            if (this.flexNotSupported_()) {\n                this.addClass('vjs-no-flex');\n            }\n            if (browser.TOUCH_ENABLED) {\n                this.addClass('vjs-touch-enabled');\n            }\n            if (!browser.IS_IOS) {\n                this.addClass('vjs-workinghover');\n            }\n            Player.players[this.id_] = this;\n            const majorVersion = \"7\";\n            this.addClass(`vjs-v${ majorVersion }`);\n            this.userActive(true);\n            this.reportUserActivity();\n            this.one('play', this.listenForUserActivity_);\n            this.on('stageclick', this.handleStageClick_);\n            this.on('keydown', this.handleKeyDown);\n            this.on('languagechange', this.handleLanguagechange);\n            this.breakpoints(this.options_.breakpoints);\n            this.responsive(this.options_.responsive);\n        }\n        dispose() {\n            this.trigger('dispose');\n            this.off('dispose');\n            Events.off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n            Events.off(document, 'keydown', this.boundFullWindowOnEscKey_);\n            if (this.styleEl_ && this.styleEl_.parentNode) {\n                this.styleEl_.parentNode.removeChild(this.styleEl_);\n                this.styleEl_ = null;\n            }\n            Player.players[this.id_] = null;\n            if (this.tag && this.tag.player) {\n                this.tag.player = null;\n            }\n            if (this.el_ && this.el_.player) {\n                this.el_.player = null;\n            }\n            if (this.tech_) {\n                this.tech_.dispose();\n                this.isPosterFromTech_ = false;\n                this.poster_ = '';\n            }\n            if (this.playerElIngest_) {\n                this.playerElIngest_ = null;\n            }\n            if (this.tag) {\n                this.tag = null;\n            }\n            middleware.clearCacheForPlayer(this);\n            TRACK_TYPES.names.forEach(name => {\n                const props = TRACK_TYPES[name];\n                const list = this[props.getterName]();\n                if (list && list.off) {\n                    list.off();\n                }\n            });\n            super.dispose();\n        }\n        createEl() {\n            let tag = this.tag;\n            let el;\n            let playerElIngest = this.playerElIngest_ = tag.parentNode && tag.parentNode.hasAttribute && tag.parentNode.hasAttribute('data-vjs-player');\n            const divEmbed = this.tag.tagName.toLowerCase() === 'video-js';\n            if (playerElIngest) {\n                el = this.el_ = tag.parentNode;\n            } else if (!divEmbed) {\n                el = this.el_ = super.createEl('div');\n            }\n            const attrs = Dom.getAttributes(tag);\n            if (divEmbed) {\n                el = this.el_ = tag;\n                tag = this.tag = document.createElement('video');\n                while (el.children.length) {\n                    tag.appendChild(el.firstChild);\n                }\n                if (!Dom.hasClass(el, 'video-js')) {\n                    Dom.addClass(el, 'video-js');\n                }\n                el.appendChild(tag);\n                playerElIngest = this.playerElIngest_ = el;\n                Object.keys(el).forEach(k => {\n                    try {\n                        tag[k] = el[k];\n                    } catch (e) {\n                    }\n                });\n            }\n            tag.setAttribute('tabindex', '-1');\n            attrs.tabindex = '-1';\n            if (browser.IE_VERSION || browser.IS_CHROME && browser.IS_WINDOWS) {\n                tag.setAttribute('role', 'application');\n                attrs.role = 'application';\n            }\n            tag.removeAttribute('width');\n            tag.removeAttribute('height');\n            if ('width' in attrs) {\n                delete attrs.width;\n            }\n            if ('height' in attrs) {\n                delete attrs.height;\n            }\n            Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n                if (!(divEmbed && attr === 'class')) {\n                    el.setAttribute(attr, attrs[attr]);\n                }\n                if (divEmbed) {\n                    tag.setAttribute(attr, attrs[attr]);\n                }\n            });\n            tag.playerId = tag.id;\n            tag.id += '_html5_api';\n            tag.className = 'vjs-tech';\n            tag.player = el.player = this;\n            this.addClass('vjs-paused');\n            if (window.VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n                this.styleEl_ = stylesheet.createStyleElement('vjs-styles-dimensions');\n                const defaultsStyleEl = Dom.$('.vjs-styles-defaults');\n                const head = Dom.$('head');\n                head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n            }\n            this.fill_ = false;\n            this.fluid_ = false;\n            this.width(this.options_.width);\n            this.height(this.options_.height);\n            this.fill(this.options_.fill);\n            this.fluid(this.options_.fluid);\n            this.aspectRatio(this.options_.aspectRatio);\n            this.crossOrigin(this.options_.crossOrigin || this.options_.crossorigin);\n            const links = tag.getElementsByTagName('a');\n            for (let i = 0; i < links.length; i++) {\n                const linkEl = links.item(i);\n                Dom.addClass(linkEl, 'vjs-hidden');\n                linkEl.setAttribute('hidden', 'hidden');\n            }\n            tag.initNetworkState_ = tag.networkState;\n            if (tag.parentNode && !playerElIngest) {\n                tag.parentNode.insertBefore(el, tag);\n            }\n            Dom.prependTo(tag, el);\n            this.children_.unshift(tag);\n            this.el_.setAttribute('lang', this.language_);\n            this.el_ = el;\n            return el;\n        }\n        crossOrigin(value) {\n            if (!value) {\n                return this.techGet_('crossOrigin');\n            }\n            if (value !== 'anonymous' && value !== 'use-credentials') {\n                log.warn(`crossOrigin must be \"anonymous\" or \"use-credentials\", given \"${ value }\"`);\n                return;\n            }\n            this.techCall_('setCrossOrigin', value);\n            return;\n        }\n        width(value) {\n            return this.dimension('width', value);\n        }\n        height(value) {\n            return this.dimension('height', value);\n        }\n        dimension(dimension, value) {\n            const privDimension = dimension + '_';\n            if (value === undefined) {\n                return this[privDimension] || 0;\n            }\n            if (value === '' || value === 'auto') {\n                this[privDimension] = undefined;\n                this.updateStyleEl_();\n                return;\n            }\n            const parsedVal = parseFloat(value);\n            if (isNaN(parsedVal)) {\n                log.error(`Improper value \"${ value }\" supplied for for ${ dimension }`);\n                return;\n            }\n            this[privDimension] = parsedVal;\n            this.updateStyleEl_();\n        }\n        fluid(bool) {\n            if (bool === undefined) {\n                return !!this.fluid_;\n            }\n            this.fluid_ = !!bool;\n            if (evented.isEvented(this)) {\n                this.off([\n                    'playerreset',\n                    'resize'\n                ], this.updateStyleEl_);\n            }\n            if (bool) {\n                this.addClass('vjs-fluid');\n                this.fill(false);\n                evented.addEventedCallback(this, () => {\n                    this.on([\n                        'playerreset',\n                        'resize'\n                    ], this.updateStyleEl_);\n                });\n            } else {\n                this.removeClass('vjs-fluid');\n            }\n            this.updateStyleEl_();\n        }\n        fill(bool) {\n            if (bool === undefined) {\n                return !!this.fill_;\n            }\n            this.fill_ = !!bool;\n            if (bool) {\n                this.addClass('vjs-fill');\n                this.fluid(false);\n            } else {\n                this.removeClass('vjs-fill');\n            }\n        }\n        aspectRatio(ratio) {\n            if (ratio === undefined) {\n                return this.aspectRatio_;\n            }\n            if (!/^\\d+\\:\\d+$/.test(ratio)) {\n                throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n            }\n            this.aspectRatio_ = ratio;\n            this.fluid(true);\n            this.updateStyleEl_();\n        }\n        updateStyleEl_() {\n            if (window.VIDEOJS_NO_DYNAMIC_STYLE === true) {\n                const width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n                const height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n                const techEl = this.tech_ && this.tech_.el();\n                if (techEl) {\n                    if (width >= 0) {\n                        techEl.width = width;\n                    }\n                    if (height >= 0) {\n                        techEl.height = height;\n                    }\n                }\n                return;\n            }\n            let width;\n            let height;\n            let aspectRatio;\n            let idClass;\n            if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n                aspectRatio = this.aspectRatio_;\n            } else if (this.videoWidth() > 0) {\n                aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n            } else {\n                aspectRatio = '16:9';\n            }\n            const ratioParts = aspectRatio.split(':');\n            const ratioMultiplier = ratioParts[1] / ratioParts[0];\n            if (this.width_ !== undefined) {\n                width = this.width_;\n            } else if (this.height_ !== undefined) {\n                width = this.height_ / ratioMultiplier;\n            } else {\n                width = this.videoWidth() || 300;\n            }\n            if (this.height_ !== undefined) {\n                height = this.height_;\n            } else {\n                height = width * ratioMultiplier;\n            }\n            if (/^[^a-zA-Z]/.test(this.id())) {\n                idClass = 'dimensions-' + this.id();\n            } else {\n                idClass = this.id() + '-dimensions';\n            }\n            this.addClass(idClass);\n            stylesheet.setTextContent(this.styleEl_, `\n      .${ idClass } {\n        width: ${ width }px;\n        height: ${ height }px;\n      }\n\n      .${ idClass }.vjs-fluid {\n        padding-top: ${ ratioMultiplier * 100 }%;\n      }\n    `);\n        }\n        loadTech_(techName, source) {\n            if (this.tech_) {\n                this.unloadTech_();\n            }\n            const titleTechName = stringCases.toTitleCase(techName);\n            const camelTechName = techName.charAt(0).toLowerCase() + techName.slice(1);\n            if (titleTechName !== 'Html5' && this.tag) {\n                Tech.getTech('Html5').disposeMediaElement(this.tag);\n                this.tag.player = null;\n                this.tag = null;\n            }\n            this.techName_ = titleTechName;\n            this.isReady_ = false;\n            const autoplay = typeof this.autoplay() === 'string' ? false : this.autoplay();\n            const techOptions = {\n                source,\n                autoplay,\n                'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n                'playerId': this.id(),\n                'techId': `${ this.id() }_${ camelTechName }_api`,\n                'playsinline': this.options_.playsinline,\n                'preload': this.options_.preload,\n                'loop': this.options_.loop,\n                'disablePictureInPicture': this.options_.disablePictureInPicture,\n                'muted': this.options_.muted,\n                'poster': this.poster(),\n                'language': this.language(),\n                'playerElIngest': this.playerElIngest_ || false,\n                'vtt.js': this.options_['vtt.js'],\n                'canOverridePoster': !!this.options_.techCanOverridePoster,\n                'enableSourceset': this.options_.enableSourceset,\n                'Promise': this.options_.Promise\n            };\n            TRACK_TYPES.names.forEach(name => {\n                const props = TRACK_TYPES[name];\n                techOptions[props.getterName] = this[props.privateName];\n            });\n            obj.assign(techOptions, this.options_[titleTechName]);\n            obj.assign(techOptions, this.options_[camelTechName]);\n            obj.assign(techOptions, this.options_[techName.toLowerCase()]);\n            if (this.tag) {\n                techOptions.tag = this.tag;\n            }\n            if (source && source.src === this.cache_.src && this.cache_.currentTime > 0) {\n                techOptions.startTime = this.cache_.currentTime;\n            }\n            const TechClass = Tech.getTech(techName);\n            if (!TechClass) {\n                throw new Error(`No Tech named '${ titleTechName }' exists! '${ titleTechName }' should be registered using videojs.registerTech()'`);\n            }\n            this.tech_ = new TechClass(techOptions);\n            this.tech_.ready(Fn.bind(this, this.handleTechReady_), true);\n            textTrackConverter.jsonToTextTracks(this.textTracksJson_ || [], this.tech_);\n            TECH_EVENTS_RETRIGGER.forEach(event => {\n                this.on(this.tech_, event, this[`handleTech${ stringCases.toTitleCase(event) }_`]);\n            });\n            Object.keys(TECH_EVENTS_QUEUE).forEach(event => {\n                this.on(this.tech_, event, eventObj => {\n                    if (this.tech_.playbackRate() === 0 && this.tech_.seeking()) {\n                        this.queuedCallbacks_.push({\n                            callback: this[`handleTech${ TECH_EVENTS_QUEUE[event] }_`].bind(this),\n                            event: eventObj\n                        });\n                        return;\n                    }\n                    this[`handleTech${ TECH_EVENTS_QUEUE[event] }_`](eventObj);\n                });\n            });\n            this.on(this.tech_, 'loadstart', this.handleTechLoadStart_);\n            this.on(this.tech_, 'sourceset', this.handleTechSourceset_);\n            this.on(this.tech_, 'waiting', this.handleTechWaiting_);\n            this.on(this.tech_, 'ended', this.handleTechEnded_);\n            this.on(this.tech_, 'seeking', this.handleTechSeeking_);\n            this.on(this.tech_, 'play', this.handleTechPlay_);\n            this.on(this.tech_, 'firstplay', this.handleTechFirstPlay_);\n            this.on(this.tech_, 'pause', this.handleTechPause_);\n            this.on(this.tech_, 'durationchange', this.handleTechDurationChange_);\n            this.on(this.tech_, 'fullscreenchange', this.handleTechFullscreenChange_);\n            this.on(this.tech_, 'fullscreenerror', this.handleTechFullscreenError_);\n            this.on(this.tech_, 'enterpictureinpicture', this.handleTechEnterPictureInPicture_);\n            this.on(this.tech_, 'leavepictureinpicture', this.handleTechLeavePictureInPicture_);\n            this.on(this.tech_, 'error', this.handleTechError_);\n            this.on(this.tech_, 'loadedmetadata', this.updateStyleEl_);\n            this.on(this.tech_, 'posterchange', this.handleTechPosterChange_);\n            this.on(this.tech_, 'textdata', this.handleTechTextData_);\n            this.on(this.tech_, 'ratechange', this.handleTechRateChange_);\n            this.usingNativeControls(this.techGet_('controls'));\n            if (this.controls() && !this.usingNativeControls()) {\n                this.addTechControlsListeners_();\n            }\n            if (this.tech_.el().parentNode !== this.el() && (titleTechName !== 'Html5' || !this.tag)) {\n                Dom.prependTo(this.tech_.el(), this.el());\n            }\n            if (this.tag) {\n                this.tag.player = null;\n                this.tag = null;\n            }\n        }\n        unloadTech_() {\n            TRACK_TYPES.names.forEach(name => {\n                const props = TRACK_TYPES[name];\n                this[props.privateName] = this[props.getterName]();\n            });\n            this.textTracksJson_ = textTrackConverter.textTracksToJson(this.tech_);\n            this.isReady_ = false;\n            this.tech_.dispose();\n            this.tech_ = false;\n            if (this.isPosterFromTech_) {\n                this.poster_ = '';\n                this.trigger('posterchange');\n            }\n            this.isPosterFromTech_ = false;\n        }\n        tech(safety) {\n            if (safety === undefined) {\n                log.warn(\"Using the tech directly can be dangerous. I hope you know what you're doing.\\n\" + 'See https://github.com/videojs/video.js/issues/2617 for more info.\\n');\n            }\n            return this.tech_;\n        }\n        addTechControlsListeners_() {\n            this.removeTechControlsListeners_();\n            this.on(this.tech_, 'mouseup', this.handleTechClick_);\n            this.on(this.tech_, 'dblclick', this.handleTechDoubleClick_);\n            this.on(this.tech_, 'touchstart', this.handleTechTouchStart_);\n            this.on(this.tech_, 'touchmove', this.handleTechTouchMove_);\n            this.on(this.tech_, 'touchend', this.handleTechTouchEnd_);\n            this.on(this.tech_, 'tap', this.handleTechTap_);\n        }\n        removeTechControlsListeners_() {\n            this.off(this.tech_, 'tap', this.handleTechTap_);\n            this.off(this.tech_, 'touchstart', this.handleTechTouchStart_);\n            this.off(this.tech_, 'touchmove', this.handleTechTouchMove_);\n            this.off(this.tech_, 'touchend', this.handleTechTouchEnd_);\n            this.off(this.tech_, 'mouseup', this.handleTechClick_);\n            this.off(this.tech_, 'dblclick', this.handleTechDoubleClick_);\n        }\n        handleTechReady_() {\n            this.triggerReady();\n            if (this.cache_.volume) {\n                this.techCall_('setVolume', this.cache_.volume);\n            }\n            this.handleTechPosterChange_();\n            this.handleTechDurationChange_();\n        }\n        handleTechLoadStart_() {\n            this.removeClass('vjs-ended');\n            this.removeClass('vjs-seeking');\n            this.error(null);\n            this.handleTechDurationChange_();\n            if (!this.paused()) {\n                this.trigger('loadstart');\n                this.trigger('firstplay');\n            } else {\n                this.hasStarted(false);\n                this.trigger('loadstart');\n            }\n            this.manualAutoplay_(this.autoplay());\n        }\n        manualAutoplay_(type) {\n            if (!this.tech_ || typeof type !== 'string') {\n                return;\n            }\n            const muted = () => {\n                const previouslyMuted = this.muted();\n                this.muted(true);\n                const restoreMuted = () => {\n                    this.muted(previouslyMuted);\n                };\n                this.playTerminatedQueue_.push(restoreMuted);\n                const mutedPromise = this.play();\n                if (!promise.isPromise(mutedPromise)) {\n                    return;\n                }\n                return mutedPromise.catch(restoreMuted);\n            };\n            let promise;\n            if (type === 'any' && this.muted() !== true) {\n                promise = this.play();\n                if (promise.isPromise(promise)) {\n                    promise = promise.catch(muted);\n                }\n            } else if (type === 'muted' && this.muted() !== true) {\n                promise = muted();\n            } else {\n                promise = this.play();\n            }\n            if (!promise.isPromise(promise)) {\n                return;\n            }\n            return promise.then(() => {\n                this.trigger({\n                    type: 'autoplay-success',\n                    autoplay: type\n                });\n            }).catch(e => {\n                this.trigger({\n                    type: 'autoplay-failure',\n                    autoplay: type\n                });\n            });\n        }\n        updateSourceCaches_(srcObj = '') {\n            let src = srcObj;\n            let type = '';\n            if (typeof src !== 'string') {\n                src = srcObj.src;\n                type = srcObj.type;\n            }\n            this.cache_.source = this.cache_.source || {};\n            this.cache_.sources = this.cache_.sources || [];\n            if (src && !type) {\n                type = mimetypes.findMimetype(this, src);\n            }\n            this.cache_.source = mergeOptions({}, srcObj, {\n                src,\n                type\n            });\n            const matchingSources = this.cache_.sources.filter(s => s.src && s.src === src);\n            const sourceElSources = [];\n            const sourceEls = this.$$('source');\n            const matchingSourceEls = [];\n            for (let i = 0; i < sourceEls.length; i++) {\n                const sourceObj = Dom.getAttributes(sourceEls[i]);\n                sourceElSources.push(sourceObj);\n                if (sourceObj.src && sourceObj.src === src) {\n                    matchingSourceEls.push(sourceObj.src);\n                }\n            }\n            if (matchingSourceEls.length && !matchingSources.length) {\n                this.cache_.sources = sourceElSources;\n            } else if (!matchingSources.length) {\n                this.cache_.sources = [this.cache_.source];\n            }\n            this.cache_.src = src;\n        }\n        handleTechSourceset_(event) {\n            if (!this.changingSrc_) {\n                let updateSourceCaches = src => this.updateSourceCaches_(src);\n                const playerSrc = this.currentSource().src;\n                const eventSrc = event.src;\n                if (playerSrc && !/^blob:/.test(playerSrc) && /^blob:/.test(eventSrc)) {\n                    if (!this.lastSource_ || this.lastSource_.tech !== eventSrc && this.lastSource_.player !== playerSrc) {\n                        updateSourceCaches = () => {\n                        };\n                    }\n                }\n                updateSourceCaches(eventSrc);\n                if (!event.src) {\n                    this.tech_.any([\n                        'sourceset',\n                        'loadstart'\n                    ], e => {\n                        if (e.type === 'sourceset') {\n                            return;\n                        }\n                        const techSrc = this.techGet('currentSrc');\n                        this.lastSource_.tech = techSrc;\n                        this.updateSourceCaches_(techSrc);\n                    });\n                }\n            }\n            this.lastSource_ = {\n                player: this.currentSource().src,\n                tech: event.src\n            };\n            this.trigger({\n                src: event.src,\n                type: 'sourceset'\n            });\n        }\n        hasStarted(request) {\n            if (request === undefined) {\n                return this.hasStarted_;\n            }\n            if (request === this.hasStarted_) {\n                return;\n            }\n            this.hasStarted_ = request;\n            if (this.hasStarted_) {\n                this.addClass('vjs-has-started');\n                this.trigger('firstplay');\n            } else {\n                this.removeClass('vjs-has-started');\n            }\n        }\n        handleTechPlay_() {\n            this.removeClass('vjs-ended');\n            this.removeClass('vjs-paused');\n            this.addClass('vjs-playing');\n            this.hasStarted(true);\n            this.trigger('play');\n        }\n        handleTechRateChange_() {\n            if (this.tech_.playbackRate() > 0 && this.cache_.lastPlaybackRate === 0) {\n                this.queuedCallbacks_.forEach(queued => queued.callback(queued.event));\n                this.queuedCallbacks_ = [];\n            }\n            this.cache_.lastPlaybackRate = this.tech_.playbackRate();\n            this.trigger('ratechange');\n        }\n        handleTechWaiting_() {\n            this.addClass('vjs-waiting');\n            this.trigger('waiting');\n            const timeWhenWaiting = this.currentTime();\n            const timeUpdateListener = () => {\n                if (timeWhenWaiting !== this.currentTime()) {\n                    this.removeClass('vjs-waiting');\n                    this.off('timeupdate', timeUpdateListener);\n                }\n            };\n            this.on('timeupdate', timeUpdateListener);\n        }\n        handleTechCanPlay_() {\n            this.removeClass('vjs-waiting');\n            this.trigger('canplay');\n        }\n        handleTechCanPlayThrough_() {\n            this.removeClass('vjs-waiting');\n            this.trigger('canplaythrough');\n        }\n        handleTechPlaying_() {\n            this.removeClass('vjs-waiting');\n            this.trigger('playing');\n        }\n        handleTechSeeking_() {\n            this.addClass('vjs-seeking');\n            this.trigger('seeking');\n        }\n        handleTechSeeked_() {\n            this.removeClass('vjs-seeking');\n            this.removeClass('vjs-ended');\n            this.trigger('seeked');\n        }\n        handleTechFirstPlay_() {\n            if (this.options_.starttime) {\n                log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');\n                this.currentTime(this.options_.starttime);\n            }\n            this.addClass('vjs-has-started');\n            this.trigger('firstplay');\n        }\n        handleTechPause_() {\n            this.removeClass('vjs-playing');\n            this.addClass('vjs-paused');\n            this.trigger('pause');\n        }\n        handleTechEnded_() {\n            this.addClass('vjs-ended');\n            if (this.options_.loop) {\n                this.currentTime(0);\n                this.play();\n            } else if (!this.paused()) {\n                this.pause();\n            }\n            this.trigger('ended');\n        }\n        handleTechDurationChange_() {\n            this.duration(this.techGet_('duration'));\n        }\n        handleTechClick_(event) {\n            if (!Dom.isSingleLeftClick(event)) {\n                return;\n            }\n            if (!this.controls_) {\n                return;\n            }\n            if (this.paused()) {\n                promise.silencePromise(this.play());\n            } else {\n                this.pause();\n            }\n        }\n        handleTechDoubleClick_(event) {\n            if (!this.controls_) {\n                return;\n            }\n            const inAllowedEls = Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'), el => el.contains(event.target));\n            if (!inAllowedEls) {\n                if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.doubleClick === undefined || this.options_.userActions.doubleClick !== false) {\n                    if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.doubleClick === 'function') {\n                        this.options_.userActions.doubleClick.call(this, event);\n                    } else if (this.isFullscreen()) {\n                        this.exitFullscreen();\n                    } else {\n                        this.requestFullscreen();\n                    }\n                }\n            }\n        }\n        handleTechTap_() {\n            this.userActive(!this.userActive());\n        }\n        handleTechTouchStart_() {\n            this.userWasActive = this.userActive();\n        }\n        handleTechTouchMove_() {\n            if (this.userWasActive) {\n                this.reportUserActivity();\n            }\n        }\n        handleTechTouchEnd_(event) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n        }\n        handleStageClick_() {\n            this.reportUserActivity();\n        }\n        toggleFullscreenClass_() {\n            if (this.isFullscreen()) {\n                this.addClass('vjs-fullscreen');\n            } else {\n                this.removeClass('vjs-fullscreen');\n            }\n        }\n        documentFullscreenChange_(e) {\n            const targetPlayer = e.target.player;\n            if (targetPlayer && targetPlayer !== this) {\n                return;\n            }\n            const el = this.el();\n            let isFs = document[this.fsApi_.fullscreenElement] === el;\n            if (!isFs && el.matches) {\n                isFs = el.matches(':' + this.fsApi_.fullscreen);\n            } else if (!isFs && el.msMatchesSelector) {\n                isFs = el.msMatchesSelector(':' + this.fsApi_.fullscreen);\n            }\n            this.isFullscreen(isFs);\n        }\n        handleTechFullscreenChange_(event, data) {\n            if (data) {\n                if (data.nativeIOSFullscreen) {\n                    this.toggleClass('vjs-ios-native-fs');\n                }\n                this.isFullscreen(data.isFullscreen);\n            }\n        }\n        handleTechFullscreenError_(event, err) {\n            this.trigger('fullscreenerror', err);\n        }\n        togglePictureInPictureClass_() {\n            if (this.isInPictureInPicture()) {\n                this.addClass('vjs-picture-in-picture');\n            } else {\n                this.removeClass('vjs-picture-in-picture');\n            }\n        }\n        handleTechEnterPictureInPicture_(event) {\n            this.isInPictureInPicture(true);\n        }\n        handleTechLeavePictureInPicture_(event) {\n            this.isInPictureInPicture(false);\n        }\n        handleTechError_() {\n            const error = this.tech_.error();\n            this.error(error);\n        }\n        handleTechTextData_() {\n            let data = null;\n            if (arguments.length > 1) {\n                data = arguments[1];\n            }\n            this.trigger('textdata', data);\n        }\n        getCache() {\n            return this.cache_;\n        }\n        resetCache_() {\n            this.cache_ = {\n                currentTime: 0,\n                initTime: 0,\n                inactivityTimeout: this.options_.inactivityTimeout,\n                duration: NaN,\n                lastVolume: 1,\n                lastPlaybackRate: this.defaultPlaybackRate(),\n                media: null,\n                src: '',\n                source: {},\n                sources: [],\n                volume: 1\n            };\n        }\n        techCall_(method, arg) {\n            this.ready(function () {\n                if (method in middleware.allowedSetters) {\n                    return middleware.set(this.middleware_, this.tech_, method, arg);\n                } else if (method in middleware.allowedMediators) {\n                    return middleware.mediate(this.middleware_, this.tech_, method, arg);\n                }\n                try {\n                    if (this.tech_) {\n                        this.tech_[method](arg);\n                    }\n                } catch (e) {\n                    log(e);\n                    throw e;\n                }\n            }, true);\n        }\n        techGet_(method) {\n            if (!this.tech_ || !this.tech_.isReady_) {\n                return;\n            }\n            if (method in middleware.allowedGetters) {\n                return middleware.get(this.middleware_, this.tech_, method);\n            } else if (method in middleware.allowedMediators) {\n                return middleware.mediate(this.middleware_, this.tech_, method);\n            }\n            try {\n                return this.tech_[method]();\n            } catch (e) {\n                if (this.tech_[method] === undefined) {\n                    log(`Video.js: ${ method } method not defined for ${ this.techName_ } playback technology.`, e);\n                    throw e;\n                }\n                if (e.name === 'TypeError') {\n                    log(`Video.js: ${ method } unavailable on ${ this.techName_ } playback technology element.`, e);\n                    this.tech_.isReady_ = false;\n                    throw e;\n                }\n                log(e);\n                throw e;\n            }\n        }\n        play() {\n            const PromiseClass = this.options_.Promise || window.Promise;\n            if (PromiseClass) {\n                return new PromiseClass(resolve => {\n                    this.play_(resolve);\n                });\n            }\n            return this.play_();\n        }\n        play_(callback = promise.silencePromise) {\n            this.playCallbacks_.push(callback);\n            const isSrcReady = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc()));\n            if (this.waitToPlay_) {\n                this.off([\n                    'ready',\n                    'loadstart'\n                ], this.waitToPlay_);\n                this.waitToPlay_ = null;\n            }\n            if (!this.isReady_ || !isSrcReady) {\n                this.waitToPlay_ = e => {\n                    this.play_();\n                };\n                this.one([\n                    'ready',\n                    'loadstart'\n                ], this.waitToPlay_);\n                if (!isSrcReady && (browser.IS_ANY_SAFARI || browser.IS_IOS)) {\n                    this.load();\n                }\n                return;\n            }\n            const val = this.techGet_('play');\n            if (val === null) {\n                this.runPlayTerminatedQueue_();\n            } else {\n                this.runPlayCallbacks_(val);\n            }\n        }\n        runPlayTerminatedQueue_() {\n            const queue = this.playTerminatedQueue_.slice(0);\n            this.playTerminatedQueue_ = [];\n            queue.forEach(function (q) {\n                q();\n            });\n        }\n        runPlayCallbacks_(val) {\n            const callbacks = this.playCallbacks_.slice(0);\n            this.playCallbacks_ = [];\n            this.playTerminatedQueue_ = [];\n            callbacks.forEach(function (cb) {\n                cb(val);\n            });\n        }\n        pause() {\n            this.techCall_('pause');\n        }\n        paused() {\n            return this.techGet_('paused') === false ? false : true;\n        }\n        played() {\n            return this.techGet_('played') || timeRages.createTimeRange(0, 0);\n        }\n        scrubbing(isScrubbing) {\n            if (typeof isScrubbing === 'undefined') {\n                return this.scrubbing_;\n            }\n            this.scrubbing_ = !!isScrubbing;\n            this.techCall_('setScrubbing', this.scrubbing_);\n            if (isScrubbing) {\n                this.addClass('vjs-scrubbing');\n            } else {\n                this.removeClass('vjs-scrubbing');\n            }\n        }\n        currentTime(seconds) {\n            if (typeof seconds !== 'undefined') {\n                if (seconds < 0) {\n                    seconds = 0;\n                }\n                if (!this.isReady_ || this.changingSrc_ || !this.tech_ || !this.tech_.isReady_) {\n                    this.cache_.initTime = seconds;\n                    this.off('canplay', this.applyInitTime_);\n                    this.one('canplay', this.applyInitTime_);\n                    return;\n                }\n                this.techCall_('setCurrentTime', seconds);\n                this.cache_.initTime = 0;\n                return;\n            }\n            this.cache_.currentTime = this.techGet_('currentTime') || 0;\n            return this.cache_.currentTime;\n        }\n        applyInitTime_() {\n            this.currentTime(this.cache_.initTime);\n        }\n        duration(seconds) {\n            if (seconds === undefined) {\n                return this.cache_.duration !== undefined ? this.cache_.duration : NaN;\n            }\n            seconds = parseFloat(seconds);\n            if (seconds < 0) {\n                seconds = Infinity;\n            }\n            if (seconds !== this.cache_.duration) {\n                this.cache_.duration = seconds;\n                if (seconds === Infinity) {\n                    this.addClass('vjs-live');\n                } else {\n                    this.removeClass('vjs-live');\n                }\n                if (!isNaN(seconds)) {\n                    this.trigger('durationchange');\n                }\n            }\n        }\n        remainingTime() {\n            return this.duration() - this.currentTime();\n        }\n        remainingTimeDisplay() {\n            return Math.floor(this.duration()) - Math.floor(this.currentTime());\n        }\n        buffered() {\n            let buffered = this.techGet_('buffered');\n            if (!buffered || !buffered.length) {\n                buffered = timeRages.createTimeRange(0, 0);\n            }\n            return buffered;\n        }\n        bufferedPercent() {\n            return buffer.bufferedPercent(this.buffered(), this.duration());\n        }\n        bufferedEnd() {\n            const buffered = this.buffered();\n            const duration = this.duration();\n            let end = buffered.end(buffered.length - 1);\n            if (end > duration) {\n                end = duration;\n            }\n            return end;\n        }\n        volume(percentAsDecimal) {\n            let vol;\n            if (percentAsDecimal !== undefined) {\n                vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));\n                this.cache_.volume = vol;\n                this.techCall_('setVolume', vol);\n                if (vol > 0) {\n                    this.lastVolume_(vol);\n                }\n                return;\n            }\n            vol = parseFloat(this.techGet_('volume'));\n            return isNaN(vol) ? 1 : vol;\n        }\n        muted(muted) {\n            if (muted !== undefined) {\n                this.techCall_('setMuted', muted);\n                return;\n            }\n            return this.techGet_('muted') || false;\n        }\n        defaultMuted(defaultMuted) {\n            if (defaultMuted !== undefined) {\n                return this.techCall_('setDefaultMuted', defaultMuted);\n            }\n            return this.techGet_('defaultMuted') || false;\n        }\n        lastVolume_(percentAsDecimal) {\n            if (percentAsDecimal !== undefined && percentAsDecimal !== 0) {\n                this.cache_.lastVolume = percentAsDecimal;\n                return;\n            }\n            return this.cache_.lastVolume;\n        }\n        supportsFullScreen() {\n            return this.techGet_('supportsFullScreen') || false;\n        }\n        isFullscreen(isFS) {\n            if (isFS !== undefined) {\n                const oldValue = this.isFullscreen_;\n                this.isFullscreen_ = Boolean(isFS);\n                if (this.isFullscreen_ !== oldValue && this.fsApi_.prefixed) {\n                    this.trigger('fullscreenchange');\n                }\n                this.toggleFullscreenClass_();\n                return;\n            }\n            return this.isFullscreen_;\n        }\n        requestFullscreen(fullscreenOptions) {\n            const PromiseClass = this.options_.Promise || window.Promise;\n            if (PromiseClass) {\n                const self = this;\n                return new PromiseClass((resolve, reject) => {\n                    function offHandler() {\n                        self.off('fullscreenerror', errorHandler);\n                        self.off('fullscreenchange', changeHandler);\n                    }\n                    function changeHandler() {\n                        offHandler();\n                        resolve();\n                    }\n                    function errorHandler(e, err) {\n                        offHandler();\n                        reject(err);\n                    }\n                    self.one('fullscreenchange', changeHandler);\n                    self.one('fullscreenerror', errorHandler);\n                    const promise = self.requestFullscreenHelper_(fullscreenOptions);\n                    if (promise) {\n                        promise.then(offHandler, offHandler);\n                        return promise;\n                    }\n                });\n            }\n            return this.requestFullscreenHelper_();\n        }\n        requestFullscreenHelper_(fullscreenOptions) {\n            let fsOptions;\n            if (!this.fsApi_.prefixed) {\n                fsOptions = this.options_.fullscreen && this.options_.fullscreen.options || {};\n                if (fullscreenOptions !== undefined) {\n                    fsOptions = fullscreenOptions;\n                }\n            }\n            if (this.fsApi_.requestFullscreen) {\n                const promise = this.el_[this.fsApi_.requestFullscreen](fsOptions);\n                if (promise) {\n                    promise.then(() => this.isFullscreen(true), () => this.isFullscreen(false));\n                }\n                return promise;\n            } else if (this.tech_.supportsFullScreen()) {\n                this.techCall_('enterFullScreen');\n            } else {\n                this.enterFullWindow();\n            }\n        }\n        exitFullscreen() {\n            const PromiseClass = this.options_.Promise || window.Promise;\n            if (PromiseClass) {\n                const self = this;\n                return new PromiseClass((resolve, reject) => {\n                    function offHandler() {\n                        self.off('fullscreenerror', errorHandler);\n                        self.off('fullscreenchange', changeHandler);\n                    }\n                    function changeHandler() {\n                        offHandler();\n                        resolve();\n                    }\n                    function errorHandler(e, err) {\n                        offHandler();\n                        reject(err);\n                    }\n                    self.one('fullscreenchange', changeHandler);\n                    self.one('fullscreenerror', errorHandler);\n                    const promise = self.exitFullscreenHelper_();\n                    if (promise) {\n                        promise.then(offHandler, offHandler);\n                        return promise;\n                    }\n                });\n            }\n            return this.exitFullscreenHelper_();\n        }\n        exitFullscreenHelper_() {\n            if (this.fsApi_.requestFullscreen) {\n                const promise = document[this.fsApi_.exitFullscreen]();\n                if (promise) {\n                    promise.then(() => this.isFullscreen(false));\n                }\n                return promise;\n            } else if (this.tech_.supportsFullScreen()) {\n                this.techCall_('exitFullScreen');\n            } else {\n                this.exitFullWindow();\n            }\n        }\n        enterFullWindow() {\n            this.isFullscreen(true);\n            this.isFullWindow = true;\n            this.docOrigOverflow = document.documentElement.style.overflow;\n            Events.on(document, 'keydown', this.boundFullWindowOnEscKey_);\n            document.documentElement.style.overflow = 'hidden';\n            Dom.addClass(document.body, 'vjs-full-window');\n            this.trigger('enterFullWindow');\n        }\n        fullWindowOnEscKey(event) {\n            if (keycode.isEventKey(event, 'Esc')) {\n                if (this.isFullscreen() === true) {\n                    this.exitFullscreen();\n                } else {\n                    this.exitFullWindow();\n                }\n            }\n        }\n        exitFullWindow() {\n            this.isFullscreen(false);\n            this.isFullWindow = false;\n            Events.off(document, 'keydown', this.boundFullWindowOnEscKey_);\n            document.documentElement.style.overflow = this.docOrigOverflow;\n            Dom.removeClass(document.body, 'vjs-full-window');\n            this.trigger('exitFullWindow');\n        }\n        disablePictureInPicture(value) {\n            if (value === undefined) {\n                return this.techGet_('disablePictureInPicture');\n            }\n            this.techCall_('setDisablePictureInPicture', value);\n            this.options_.disablePictureInPicture = value;\n            this.trigger('disablepictureinpicturechanged');\n        }\n        isInPictureInPicture(isPiP) {\n            if (isPiP !== undefined) {\n                this.isInPictureInPicture_ = !!isPiP;\n                this.togglePictureInPictureClass_();\n                return;\n            }\n            return !!this.isInPictureInPicture_;\n        }\n        requestPictureInPicture() {\n            if ('pictureInPictureEnabled' in document && this.disablePictureInPicture() === false) {\n                return this.techGet_('requestPictureInPicture');\n            }\n        }\n        exitPictureInPicture() {\n            if ('pictureInPictureEnabled' in document) {\n                return document.exitPictureInPicture();\n            }\n        }\n        handleKeyDown(event) {\n            const {userActions} = this.options_;\n            if (!userActions || !userActions.hotkeys) {\n                return;\n            }\n            const excludeElement = el => {\n                const tagName = el.tagName.toLowerCase();\n                if (el.isContentEditable) {\n                    return true;\n                }\n                const allowedInputTypes = [\n                    'button',\n                    'checkbox',\n                    'hidden',\n                    'radio',\n                    'reset',\n                    'submit'\n                ];\n                if (tagName === 'input') {\n                    return allowedInputTypes.indexOf(el.type) === -1;\n                }\n                const excludedTags = ['textarea'];\n                return excludedTags.indexOf(tagName) !== -1;\n            };\n            if (excludeElement(this.el_.ownerDocument.activeElement)) {\n                return;\n            }\n            if (typeof userActions.hotkeys === 'function') {\n                userActions.hotkeys.call(this, event);\n            } else {\n                this.handleHotkeys(event);\n            }\n        }\n        handleHotkeys(event) {\n            const hotkeys = this.options_.userActions ? this.options_.userActions.hotkeys : {};\n            const {fullscreenKey = keydownEvent => keycode.isEventKey(keydownEvent, 'f'), muteKey = keydownEvent => keycode.isEventKey(keydownEvent, 'm'), playPauseKey = keydownEvent => keycode.isEventKey(keydownEvent, 'k') || keycode.isEventKey(keydownEvent, 'Space')} = hotkeys;\n            if (fullscreenKey.call(this, event)) {\n                event.preventDefault();\n                event.stopPropagation();\n                const FSToggle = Component.getComponent('FullscreenToggle');\n                if (document[this.fsApi_.fullscreenEnabled] !== false) {\n                    FSToggle.prototype.handleClick.call(this, event);\n                }\n            } else if (muteKey.call(this, event)) {\n                event.preventDefault();\n                event.stopPropagation();\n                const MuteToggle = Component.getComponent('MuteToggle');\n                MuteToggle.prototype.handleClick.call(this, event);\n            } else if (playPauseKey.call(this, event)) {\n                event.preventDefault();\n                event.stopPropagation();\n                const PlayToggle = Component.getComponent('PlayToggle');\n                PlayToggle.prototype.handleClick.call(this, event);\n            }\n        }\n        canPlayType(type) {\n            let can;\n            for (let i = 0, j = this.options_.techOrder; i < j.length; i++) {\n                const techName = j[i];\n                let tech = Tech.getTech(techName);\n                if (!tech) {\n                    tech = Component.getComponent(techName);\n                }\n                if (!tech) {\n                    log.error(`The \"${ techName }\" tech is undefined. Skipped browser support check for that tech.`);\n                    continue;\n                }\n                if (tech.isSupported()) {\n                    can = tech.canPlayType(type);\n                    if (can) {\n                        return can;\n                    }\n                }\n            }\n            return '';\n        }\n        selectSource(sources) {\n            const techs = this.options_.techOrder.map(techName => {\n                return [\n                    techName,\n                    Tech.getTech(techName)\n                ];\n            }).filter(([techName, tech]) => {\n                if (tech) {\n                    return tech.isSupported();\n                }\n                log.error(`The \"${ techName }\" tech is undefined. Skipped browser support check for that tech.`);\n                return false;\n            });\n            const findFirstPassingTechSourcePair = function (outerArray, innerArray, tester) {\n                let found;\n                outerArray.some(outerChoice => {\n                    return innerArray.some(innerChoice => {\n                        found = tester(outerChoice, innerChoice);\n                        if (found) {\n                            return true;\n                        }\n                    });\n                });\n                return found;\n            };\n            let foundSourceAndTech;\n            const flip = fn => (a, b) => fn(b, a);\n            const finder = ([techName, tech], source) => {\n                if (tech.canPlaySource(source, this.options_[techName.toLowerCase()])) {\n                    return {\n                        source,\n                        tech: techName\n                    };\n                }\n            };\n            if (this.options_.sourceOrder) {\n                foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n            } else {\n                foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n            }\n            return foundSourceAndTech || false;\n        }\n        src(source) {\n            if (typeof source === 'undefined') {\n                return this.cache_.src || '';\n            }\n            const sources = filterSource(source);\n            if (!sources.length) {\n                this.setTimeout(function () {\n                    this.error({\n                        code: 4,\n                        message: this.localize(this.options_.notSupportedMessage)\n                    });\n                }, 0);\n                return;\n            }\n            this.changingSrc_ = true;\n            this.cache_.sources = sources;\n            this.updateSourceCaches_(sources[0]);\n            middleware.setSource(this, sources[0], (middlewareSource, mws) => {\n                this.middleware_ = mws;\n                this.cache_.sources = sources;\n                this.updateSourceCaches_(middlewareSource);\n                const err = this.src_(middlewareSource);\n                if (err) {\n                    if (sources.length > 1) {\n                        return this.src(sources.slice(1));\n                    }\n                    this.changingSrc_ = false;\n                    this.setTimeout(function () {\n                        this.error({\n                            code: 4,\n                            message: this.localize(this.options_.notSupportedMessage)\n                        });\n                    }, 0);\n                    this.triggerReady();\n                    return;\n                }\n                middleware.setTech(mws, this.tech_);\n            });\n        }\n        src_(source) {\n            const sourceTech = this.selectSource([source]);\n            if (!sourceTech) {\n                return true;\n            }\n            if (!stringCases.titleCaseEquals(sourceTech.tech, this.techName_)) {\n                this.changingSrc_ = true;\n                this.loadTech_(sourceTech.tech, sourceTech.source);\n                this.tech_.ready(() => {\n                    this.changingSrc_ = false;\n                });\n                return false;\n            }\n            this.ready(function () {\n                if (this.tech_.constructor.prototype.hasOwnProperty('setSource')) {\n                    this.techCall_('setSource', source);\n                } else {\n                    this.techCall_('src', source.src);\n                }\n                this.changingSrc_ = false;\n            }, true);\n            return false;\n        }\n        load() {\n            this.techCall_('load');\n        }\n        reset() {\n            const PromiseClass = this.options_.Promise || window.Promise;\n            if (this.paused() || !PromiseClass) {\n                this.doReset_();\n            } else {\n                const playPromise = this.play();\n                promise.silencePromise(playPromise.then(() => this.doReset_()));\n            }\n        }\n        doReset_() {\n            if (this.tech_) {\n                this.tech_.clearTracks('text');\n            }\n            this.resetCache_();\n            this.poster('');\n            this.loadTech_(this.options_.techOrder[0], null);\n            this.techCall_('reset');\n            this.resetControlBarUI_();\n            if (evented.isEvented(this)) {\n                this.trigger('playerreset');\n            }\n        }\n        resetControlBarUI_() {\n            this.resetProgressBar_();\n            this.resetPlaybackRate_();\n            this.resetVolumeBar_();\n        }\n        resetProgressBar_() {\n            this.currentTime(0);\n            const {durationDisplay, remainingTimeDisplay} = this.controlBar;\n            if (durationDisplay) {\n                durationDisplay.updateContent();\n            }\n            if (remainingTimeDisplay) {\n                remainingTimeDisplay.updateContent();\n            }\n        }\n        resetPlaybackRate_() {\n            this.playbackRate(this.defaultPlaybackRate());\n            this.handleTechRateChange_();\n        }\n        resetVolumeBar_() {\n            this.volume(1);\n            this.trigger('volumechange');\n        }\n        currentSources() {\n            const source = this.currentSource();\n            const sources = [];\n            if (Object.keys(source).length !== 0) {\n                sources.push(source);\n            }\n            return this.cache_.sources || sources;\n        }\n        currentSource() {\n            return this.cache_.source || {};\n        }\n        currentSrc() {\n            return this.currentSource() && this.currentSource().src || '';\n        }\n        currentType() {\n            return this.currentSource() && this.currentSource().type || '';\n        }\n        preload(value) {\n            if (value !== undefined) {\n                this.techCall_('setPreload', value);\n                this.options_.preload = value;\n                return;\n            }\n            return this.techGet_('preload');\n        }\n        autoplay(value) {\n            if (value === undefined) {\n                return this.options_.autoplay || false;\n            }\n            let techAutoplay;\n            if (typeof value === 'string' && /(any|play|muted)/.test(value)) {\n                this.options_.autoplay = value;\n                this.manualAutoplay_(value);\n                techAutoplay = false;\n            } else if (!value) {\n                this.options_.autoplay = false;\n            } else {\n                this.options_.autoplay = true;\n            }\n            techAutoplay = typeof techAutoplay === 'undefined' ? this.options_.autoplay : techAutoplay;\n            if (this.tech_) {\n                this.techCall_('setAutoplay', techAutoplay);\n            }\n        }\n        playsinline(value) {\n            if (value !== undefined) {\n                this.techCall_('setPlaysinline', value);\n                this.options_.playsinline = value;\n                return this;\n            }\n            return this.techGet_('playsinline');\n        }\n        loop(value) {\n            if (value !== undefined) {\n                this.techCall_('setLoop', value);\n                this.options_.loop = value;\n                return;\n            }\n            return this.techGet_('loop');\n        }\n        poster(src) {\n            if (src === undefined) {\n                return this.poster_;\n            }\n            if (!src) {\n                src = '';\n            }\n            if (src === this.poster_) {\n                return;\n            }\n            this.poster_ = src;\n            this.techCall_('setPoster', src);\n            this.isPosterFromTech_ = false;\n            this.trigger('posterchange');\n        }\n        handleTechPosterChange_() {\n            if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {\n                const newPoster = this.tech_.poster() || '';\n                if (newPoster !== this.poster_) {\n                    this.poster_ = newPoster;\n                    this.isPosterFromTech_ = true;\n                    this.trigger('posterchange');\n                }\n            }\n        }\n        controls(bool) {\n            if (bool === undefined) {\n                return !!this.controls_;\n            }\n            bool = !!bool;\n            if (this.controls_ === bool) {\n                return;\n            }\n            this.controls_ = bool;\n            if (this.usingNativeControls()) {\n                this.techCall_('setControls', bool);\n            }\n            if (this.controls_) {\n                this.removeClass('vjs-controls-disabled');\n                this.addClass('vjs-controls-enabled');\n                this.trigger('controlsenabled');\n                if (!this.usingNativeControls()) {\n                    this.addTechControlsListeners_();\n                }\n            } else {\n                this.removeClass('vjs-controls-enabled');\n                this.addClass('vjs-controls-disabled');\n                this.trigger('controlsdisabled');\n                if (!this.usingNativeControls()) {\n                    this.removeTechControlsListeners_();\n                }\n            }\n        }\n        usingNativeControls(bool) {\n            if (bool === undefined) {\n                return !!this.usingNativeControls_;\n            }\n            bool = !!bool;\n            if (this.usingNativeControls_ === bool) {\n                return;\n            }\n            this.usingNativeControls_ = bool;\n            if (this.usingNativeControls_) {\n                this.addClass('vjs-using-native-controls');\n                this.trigger('usingnativecontrols');\n            } else {\n                this.removeClass('vjs-using-native-controls');\n                this.trigger('usingcustomcontrols');\n            }\n        }\n        error(err) {\n            if (err === undefined) {\n                return this.error_ || null;\n            }\n            if (this.options_.suppressNotSupportedError && err && err.code === 4) {\n                const triggerSuppressedError = function () {\n                    this.error(err);\n                };\n                this.options_.suppressNotSupportedError = false;\n                this.any([\n                    'click',\n                    'touchstart'\n                ], triggerSuppressedError);\n                this.one('loadstart', function () {\n                    this.off([\n                        'click',\n                        'touchstart'\n                    ], triggerSuppressedError);\n                });\n                return;\n            }\n            if (err === null) {\n                this.error_ = err;\n                this.removeClass('vjs-error');\n                if (this.errorDisplay) {\n                    this.errorDisplay.close();\n                }\n                return;\n            }\n            this.error_ = new MediaError(err);\n            this.addClass('vjs-error');\n            log.error(`(CODE:${ this.error_.code } ${ MediaError.errorTypes[this.error_.code] })`, this.error_.message, this.error_);\n            this.trigger('error');\n            return;\n        }\n        reportUserActivity(event) {\n            this.userActivity_ = true;\n        }\n        userActive(bool) {\n            if (bool === undefined) {\n                return this.userActive_;\n            }\n            bool = !!bool;\n            if (bool === this.userActive_) {\n                return;\n            }\n            this.userActive_ = bool;\n            if (this.userActive_) {\n                this.userActivity_ = true;\n                this.removeClass('vjs-user-inactive');\n                this.addClass('vjs-user-active');\n                this.trigger('useractive');\n                return;\n            }\n            if (this.tech_) {\n                this.tech_.one('mousemove', function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                });\n            }\n            this.userActivity_ = false;\n            this.removeClass('vjs-user-active');\n            this.addClass('vjs-user-inactive');\n            this.trigger('userinactive');\n        }\n        listenForUserActivity_() {\n            let mouseInProgress;\n            let lastMoveX;\n            let lastMoveY;\n            const handleActivity = Fn.bind(this, this.reportUserActivity);\n            const handleMouseMove = function (e) {\n                if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n                    lastMoveX = e.screenX;\n                    lastMoveY = e.screenY;\n                    handleActivity();\n                }\n            };\n            const handleMouseDown = function () {\n                handleActivity();\n                this.clearInterval(mouseInProgress);\n                mouseInProgress = this.setInterval(handleActivity, 250);\n            };\n            const handleMouseUpAndMouseLeave = function (event) {\n                handleActivity();\n                this.clearInterval(mouseInProgress);\n            };\n            this.on('mousedown', handleMouseDown);\n            this.on('mousemove', handleMouseMove);\n            this.on('mouseup', handleMouseUpAndMouseLeave);\n            this.on('mouseleave', handleMouseUpAndMouseLeave);\n            const controlBar = this.getChild('controlBar');\n            if (controlBar && !browser.IS_IOS && !browser.IS_ANDROID) {\n                controlBar.on('mouseenter', function (event) {\n                    this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout;\n                    this.player().options_.inactivityTimeout = 0;\n                });\n                controlBar.on('mouseleave', function (event) {\n                    this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;\n                });\n            }\n            this.on('keydown', handleActivity);\n            this.on('keyup', handleActivity);\n            let inactivityTimeout;\n            this.setInterval(function () {\n                if (!this.userActivity_) {\n                    return;\n                }\n                this.userActivity_ = false;\n                this.userActive(true);\n                this.clearTimeout(inactivityTimeout);\n                const timeout = this.options_.inactivityTimeout;\n                if (timeout <= 0) {\n                    return;\n                }\n                inactivityTimeout = this.setTimeout(function () {\n                    if (!this.userActivity_) {\n                        this.userActive(false);\n                    }\n                }, timeout);\n            }, 250);\n        }\n        playbackRate(rate) {\n            if (rate !== undefined) {\n                this.techCall_('setPlaybackRate', rate);\n                return;\n            }\n            if (this.tech_ && this.tech_.featuresPlaybackRate) {\n                return this.cache_.lastPlaybackRate || this.techGet_('playbackRate');\n            }\n            return 1;\n        }\n        defaultPlaybackRate(rate) {\n            if (rate !== undefined) {\n                return this.techCall_('setDefaultPlaybackRate', rate);\n            }\n            if (this.tech_ && this.tech_.featuresPlaybackRate) {\n                return this.techGet_('defaultPlaybackRate');\n            }\n            return 1;\n        }\n        isAudio(bool) {\n            if (bool !== undefined) {\n                this.isAudio_ = !!bool;\n                return;\n            }\n            return !!this.isAudio_;\n        }\n        addTextTrack(kind, label, language) {\n            if (this.tech_) {\n                return this.tech_.addTextTrack(kind, label, language);\n            }\n        }\n        addRemoteTextTrack(options, manualCleanup) {\n            if (this.tech_) {\n                return this.tech_.addRemoteTextTrack(options, manualCleanup);\n            }\n        }\n        removeRemoteTextTrack(obj = {}) {\n            let {track} = obj;\n            if (!track) {\n                track = obj;\n            }\n            if (this.tech_) {\n                return this.tech_.removeRemoteTextTrack(track);\n            }\n        }\n        getVideoPlaybackQuality() {\n            return this.techGet_('getVideoPlaybackQuality');\n        }\n        videoWidth() {\n            return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n        }\n        videoHeight() {\n            return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n        }\n        language(code) {\n            if (code === undefined) {\n                return this.language_;\n            }\n            if (this.language_ !== String(code).toLowerCase()) {\n                this.language_ = String(code).toLowerCase();\n                if (evented.isEvented(this)) {\n                    this.trigger('languagechange');\n                }\n            }\n        }\n        languages() {\n            return mergeOptions(Player.prototype.options_.languages, this.languages_);\n        }\n        toJSON() {\n            const options = mergeOptions(this.options_);\n            const tracks = options.tracks;\n            options.tracks = [];\n            for (let i = 0; i < tracks.length; i++) {\n                let track = tracks[i];\n                track = mergeOptions(track);\n                track.player = undefined;\n                options.tracks[i] = track;\n            }\n            return options;\n        }\n        createModal(content, options) {\n            options = options || {};\n            options.content = content || '';\n            const modal = new ModalDialog(this, options);\n            this.addChild(modal);\n            modal.on('dispose', () => {\n                this.removeChild(modal);\n            });\n            modal.open();\n            return modal;\n        }\n        updateCurrentBreakpoint_() {\n            if (!this.responsive()) {\n                return;\n            }\n            const currentBreakpoint = this.currentBreakpoint();\n            const currentWidth = this.currentWidth();\n            for (let i = 0; i < BREAKPOINT_ORDER.length; i++) {\n                const candidateBreakpoint = BREAKPOINT_ORDER[i];\n                const maxWidth = this.breakpoints_[candidateBreakpoint];\n                if (currentWidth <= maxWidth) {\n                    if (currentBreakpoint === candidateBreakpoint) {\n                        return;\n                    }\n                    if (currentBreakpoint) {\n                        this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);\n                    }\n                    this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);\n                    this.breakpoint_ = candidateBreakpoint;\n                    break;\n                }\n            }\n        }\n        removeCurrentBreakpoint_() {\n            const className = this.currentBreakpointClass();\n            this.breakpoint_ = '';\n            if (className) {\n                this.removeClass(className);\n            }\n        }\n        breakpoints(breakpoints) {\n            if (breakpoints === undefined) {\n                return obj.assign(this.breakpoints_);\n            }\n            this.breakpoint_ = '';\n            this.breakpoints_ = obj.assign({}, DEFAULT_BREAKPOINTS, breakpoints);\n            this.updateCurrentBreakpoint_();\n            return obj.assign(this.breakpoints_);\n        }\n        responsive(value) {\n            if (value === undefined) {\n                return this.responsive_;\n            }\n            value = Boolean(value);\n            const current = this.responsive_;\n            if (value === current) {\n                return;\n            }\n            this.responsive_ = value;\n            if (value) {\n                this.on('playerresize', this.updateCurrentBreakpoint_);\n                this.updateCurrentBreakpoint_();\n            } else {\n                this.off('playerresize', this.updateCurrentBreakpoint_);\n                this.removeCurrentBreakpoint_();\n            }\n            return value;\n        }\n        currentBreakpoint() {\n            return this.breakpoint_;\n        }\n        currentBreakpointClass() {\n            return BREAKPOINT_CLASSES[this.breakpoint_] || '';\n        }\n        loadMedia(media, ready) {\n            if (!media || typeof media !== 'object') {\n                return;\n            }\n            this.reset();\n            this.cache_.media = mergeOptions(media);\n            const {artwork, poster, src, textTracks} = this.cache_.media;\n            if (!artwork && poster) {\n                this.cache_.media.artwork = [{\n                        src: poster,\n                        type: mimetypes.getMimetype(poster)\n                    }];\n            }\n            if (src) {\n                this.src(src);\n            }\n            if (poster) {\n                this.poster(poster);\n            }\n            if (Array.isArray(textTracks)) {\n                textTracks.forEach(tt => this.addRemoteTextTrack(tt, false));\n            }\n            this.ready(ready);\n        }\n        getMedia() {\n            if (!this.cache_.media) {\n                const poster = this.poster();\n                const src = this.currentSources();\n                const textTracks = Array.prototype.map.call(this.remoteTextTracks(), tt => ({\n                    kind: tt.kind,\n                    label: tt.label,\n                    language: tt.language,\n                    src: tt.src\n                }));\n                const media = {\n                    src,\n                    textTracks\n                };\n                if (poster) {\n                    media.poster = poster;\n                    media.artwork = [{\n                            src: media.poster,\n                            type: mimetypes.getMimetype(media.poster)\n                        }];\n                }\n                return media;\n            }\n            return mergeOptions(this.cache_.media);\n        }\n        static getTagSettings(tag) {\n            const baseOptions = {\n                sources: [],\n                tracks: []\n            };\n            const tagOptions = Dom.getAttributes(tag);\n            const dataSetup = tagOptions['data-setup'];\n            if (Dom.hasClass(tag, 'vjs-fill')) {\n                tagOptions.fill = true;\n            }\n            if (Dom.hasClass(tag, 'vjs-fluid')) {\n                tagOptions.fluid = true;\n            }\n            if (dataSetup !== null) {\n                const [err, data] = safeParseTuple(dataSetup || '{}');\n                if (err) {\n                    log.error(err);\n                }\n                obj.assign(tagOptions, data);\n            }\n            obj.assign(baseOptions, tagOptions);\n            if (tag.hasChildNodes()) {\n                const children = tag.childNodes;\n                for (let i = 0, j = children.length; i < j; i++) {\n                    const child = children[i];\n                    const childName = child.nodeName.toLowerCase();\n                    if (childName === 'source') {\n                        baseOptions.sources.push(Dom.getAttributes(child));\n                    } else if (childName === 'track') {\n                        baseOptions.tracks.push(Dom.getAttributes(child));\n                    }\n                }\n            }\n            return baseOptions;\n        }\n        flexNotSupported_() {\n            const elem = document.createElement('i');\n            return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || 'msFlexOrder' in elem.style);\n        }\n        debug(enabled) {\n            if (enabled === undefined) {\n                return this.debugEnabled_;\n            }\n            if (enabled) {\n                this.trigger('debugon');\n                this.previousLogLevel_ = this.log.level;\n                this.log.level('debug');\n                this.debugEnabled_ = true;\n            } else {\n                this.trigger('debugoff');\n                this.log.level(this.previousLogLevel_);\n                this.previousLogLevel_ = undefined;\n                this.debugEnabled_ = false;\n            }\n        }\n    }\n    TRACK_TYPES.names.forEach(function (name) {\n        const props = TRACK_TYPES[name];\n        Player.prototype[props.getterName] = function () {\n            if (this.tech_) {\n                return this.tech_[props.getterName]();\n            }\n            this[props.privateName] = this[props.privateName] || new props.ListClass();\n            return this[props.privateName];\n        };\n    });\n    Player.prototype.crossorigin = Player.prototype.crossOrigin;\n    Player.players = {};\n    const navigator = window.navigator;\n    Player.prototype.options_ = {\n        techOrder: Tech.defaultTechOrder_,\n        html5: {},\n        inactivityTimeout: 2000,\n        playbackRates: [],\n        liveui: false,\n        children: [\n            'mediaLoader',\n            'posterImage',\n            'textTrackDisplay',\n            'loadingSpinner',\n            'bigPlayButton',\n            'liveTracker',\n            'controlBar',\n            'errorDisplay',\n            'textTrackSettings',\n            'resizeManager'\n        ],\n        language: navigator && (navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language) || 'en',\n        languages: {},\n        notSupportedMessage: 'No compatible source was found for this media.',\n        fullscreen: { options: { navigationUI: 'hide' } },\n        breakpoints: {},\n        responsive: false\n    };\n    [\n        'ended',\n        'seeking',\n        'seekable',\n        'networkState',\n        'readyState'\n    ].forEach(function (fn) {\n        Player.prototype[fn] = function () {\n            return this.techGet_(fn);\n        };\n    });\n    TECH_EVENTS_RETRIGGER.forEach(function (event) {\n        Player.prototype[`handleTech${ stringCases.toTitleCase(event) }_`] = function () {\n            return this.trigger(event);\n        };\n    });\n    Component.registerComponent('Player', Player);\n    return Player;\n});"]}