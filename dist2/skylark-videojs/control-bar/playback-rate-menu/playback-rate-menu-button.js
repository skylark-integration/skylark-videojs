/**
 * skylark-videojs - A version of video.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["../../menu/menu-button","../../menu/menu","./playback-rate-menu-item","../../component","../../utils/dom"],function(e,t,a,s,l){"use strict";class i extends e{constructor(e,t){super(e,t),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",this.updateVisibility),this.on(e,"ratechange",this.updateLabel)}createEl(){const e=super.createEl();return this.labelEl_=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createMenu(){const e=new t(this.player()),s=this.playbackRates();if(s)for(let t=s.length-1;t>=0;t--)e.addChild(new a(this.player(),{rate:s[t]+"x"}));return e}updateARIAAttributes(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())}handleClick(e){const t=this.player().playbackRate(),a=this.playbackRates();let s=a[0];for(let e=0;e<a.length;e++)if(a[e]>t){s=a[e];break}this.player().playbackRate(s)}playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")}}return i.prototype.controlText_="Playback Rate",s.registerComponent("PlaybackRateMenuButton",i),i});
//# sourceMappingURL=../../sourcemaps/control-bar/playback-rate-menu/playback-rate-menu-button.js.map
