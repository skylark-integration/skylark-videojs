/**
 * skylark-videojs - A version of video.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["../../component","../../utils/dom","../../utils/clamp","../../utils/fn","./seek-bar"],function(e,s,t,o){"use strict";class h extends e{constructor(e,s){super(e,s),this.handleMouseMove=o.throttle(o.bind(this,this.handleMouseMove),o.UPDATE_REFRESH_INTERVAL),this.throttledHandleMouseSeek=o.throttle(o.bind(this,this.handleMouseSeek),o.UPDATE_REFRESH_INTERVAL),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const o=this.getChild("seekBar");if(!o)return;const h=o.getChild("playProgressBar"),n=o.getChild("mouseTimeDisplay");if(!h&&!n)return;const i=o.el(),l=s.findPosition(i);let d=s.getPointerPosition(i,e).x;d=t(d,0,1),n&&n.update(l,d),h&&h.update(l,o.getProgress())}handleMouseSeek(e){const s=this.getChild("seekBar");s&&s.handleMouseMove(e)}enabled(){return this.enabled_}disable(){this.children().forEach(e=>e.disable&&e.disable()),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)}enable(){this.children().forEach(e=>e.enable&&e.enable()),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}handleMouseDown(e){const s=this.el_.ownerDocument,t=this.getChild("seekBar");t&&t.handleMouseDown(e),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUp),this.on(s,"touchend",this.handleMouseUp)}handleMouseUp(e){const s=this.el_.ownerDocument,t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.off(s,"mousemove",this.throttledHandleMouseSeek),this.off(s,"touchmove",this.throttledHandleMouseSeek),this.off(s,"mouseup",this.handleMouseUp),this.off(s,"touchend",this.handleMouseUp)}}return h.prototype.options_={children:["seekBar"]},e.registerComponent("ProgressControl",h),h});
//# sourceMappingURL=../../sourcemaps/control-bar/progress-control/progress-control.js.map
