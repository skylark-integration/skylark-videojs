/**
 * skylark-videojs - A version of video.js that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx-globals/window","skylark-net-http/xhr","./setup","./utils/stylesheet","./component","./event-target","./utils/events","./player","./plugin","./utils/merge-options","./utils/fn","./tracks/text-track","./tracks/audio-track","./tracks/video-track","./utils/time-ranges","./utils/format-time","./utils/log","./utils/dom","./utils/browser","./utils/url","./utils/obj","./utils/computed-style","./extend","./tech/tech","./tech/middleware","./utils/define-lazy-property"],function(e,t,r,s,o,n,i,a,l,u,g,d,c,p,h,m,f,y,k,T,w,b,v,P,E,C){"use strict";var O=E.use,j=E.TERMINATOR;const _=e=>0===e.indexOf("#")?e.slice(1):e;function x(e,t,r){let s=x.getPlayer(e);if(s)return t&&f.warn(`Player "${e}" is already initialised. Options will not be applied.`),r&&s.ready(r),s;const n="string"==typeof e?y.$("#"+_(e)):e;if(!y.isEl(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||f.warn("The element supplied is not included in the DOM"),t=t||{},x.hooks("beforesetup").forEach(e=>{const r=e(n,u(t));w.isObject(r)&&!Array.isArray(r)?t=u(t,r):f.error("please return an object in beforesetup hooks")});const i=o.getComponent("Player");return s=new i(n,t,r),x.hooks("setup").forEach(e=>e(s)),s}if(x.hooks_={},x.hooks=function(e,t){return x.hooks_[e]=x.hooks_[e]||[],t&&(x.hooks_[e]=x.hooks_[e].concat(t)),x.hooks_[e]},x.hook=function(e,t){x.hooks(e,t)},x.hookOnce=function(e,t){x.hooks(e,[].concat(t).map(t=>{const r=(...s)=>(x.removeHook(e,r),t(...s));return r}))},x.removeHook=function(e,t){const r=x.hooks(e).indexOf(t);return!(r<=-1)&&(x.hooks_[e]=x.hooks_[e].slice(),x.hooks_[e].splice(r,1),!0)},!0!==e.VIDEOJS_NO_DYNAMIC_STYLE&&y.isReal()){let e=y.$(".vjs-styles-defaults");if(!e){e=s.createStyleElement("vjs-styles-defaults");const t=y.$("head");t&&t.insertBefore(e,t.firstChild),s.setTextContent(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return r.autoSetupTimeout(1,x),x.VERSION="7.11.5",x.options=a.prototype.options_,x.getPlayers=(()=>a.players),x.getPlayer=(e=>{const t=a.players;let r;if("string"==typeof e){const s=_(e),o=t[s];if(o)return o;r=y.$("#"+s)}else r=e;if(y.isEl(r)){const{player:e,playerId:s}=r;if(e||t[s])return e||t[s]}}),x.getAllPlayers=(()=>Object.keys(a.players).map(e=>a.players[e]).filter(Boolean)),x.players=a.players,x.getComponent=o.getComponent,x.registerComponent=((e,t)=>{P.isTech(t)&&f.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),o.registerComponent.call(o,e,t)}),x.getTech=P.getTech,x.registerTech=P.registerTech,x.use=O,Object.defineProperty(x,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(x.middleware,"TERMINATOR",{value:j,writeable:!1,enumerable:!0}),x.browser=k,x.TOUCH_ENABLED=k.TOUCH_ENABLED,x.extend=v,x.mergeOptions=u,x.bind=g.bind,x.registerPlugin=l.registerPlugin,x.deregisterPlugin=l.deregisterPlugin,x.plugin=((e,t)=>(f.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),l.registerPlugin(e,t))),x.getPlugins=l.getPlugins,x.getPlugin=l.getPlugin,x.getPluginVersion=l.getPluginVersion,x.addLanguage=function(e,t){return e=(""+e).toLowerCase(),x.options.languages=u(x.options.languages,{[e]:t}),x.options.languages[e]},x.log=f,x.createLogger=f.createLogger,x.createTimeRange=x.undefined=h.createTimeRanges,x.formatTime=m,x.setFormatTime=m.setFormatTime,x.resetFormatTime=m.resetFormatTime,x.parseUrl=T.parseUrl,x.isCrossOrigin=T.isCrossOrigin,x.EventTarget=n,x.on=i.on,x.one=i.one,x.off=i.off,x.trigger=i.trigger,x.xhr=t,x.TextTrack=d,x.AudioTrack=c,x.VideoTrack=p,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{x[e]=function(){return f.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),y[e].apply(null,arguments)}}),x.computedStyle=b,x.dom=y,x.url=T,x.defineLazyProperty=C,x});
//# sourceMappingURL=sourcemaps/video.js.map
